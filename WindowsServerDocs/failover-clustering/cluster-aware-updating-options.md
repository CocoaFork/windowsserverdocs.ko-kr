---
ms.assetid: 2f4b6641-0ec2-4b1c-85fb-a1f1d16685c8
title: "러스터 인식 고급 옵션으로 업데이트 하 고 실행된 프로필 업데이트"
ms.topic: article
ms.prod: storage-failover-clustering
manager: dongill
ms.author: jgerend
author: JasonGerend
ms.date: 6/7/2017
description: "고급 옵션 및 실행된 프로필에 대 한 클러스터 업데이트 (CAU) 업데이트를 구성 하는 방법"
ms.openlocfilehash: 5b6f035791a946ff96ff6a95a1f753ef505d54b4
ms.sourcegitcommit: 583355400f6b0d880dc0ac6bc06f0efb50d674f7
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/17/2017
---
# <a name="cluster-aware-updating-advanced-options-and-updating-run-profiles"></a>고급 옵션 및 실행된 프로필 업데이트 클러스터 인식 업데이트

>에 해당: (세미콜론 연간 채널) Windows Server, Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

이 항목에 대 한 구성 될 수 있는 업데이트를 실행 옵션에 설명는 [클러스터 인식 업데이트](cluster-aware-updating.md) (CAU) 업데이트를 실행 합니다. 고급 옵션 이러한 업데이트를 적용 하 또는 자동 업데이트 옵션을 구성 CAU UI 또는 CAU Windows PowerShell cmdlet 사용할 때 구성할 수 있습니다.

대부분의 설정은 구성 XML 업데이트를 실행 프로필 이라고 파일과 업데이트 실행 나중에 다시으로 저장할 수 있습니다. 많은 클러스터 환경에서 기본값 CAU에서 제공 되는 업데이트를 실행 옵션을 사용할 수도 있습니다.

실행 프로필 업데이트와 각 업데이트를 실행 하는 것에 대 한 지정할 수 있는 옵션이 추가 대 한 내용은이 항목 뒷부분에 다음 섹션을 참조 하십시오.

사용자가 지정 된 업데이트를 실행 사용 업데이트 실행 프로필 옵션 업데이트를 실행 프로필에 설정할 수 있는 요청 하면 옵션

다음 표에서 CAU 업데이트를 실행 프로필에 설정할 수 있는 옵션을 보여 줍니다. 

> [!NOTE] 
> PreUpdateScript 또는 PostUpdateScript 옵션을 설정 하려면 Windows PowerShell 및.NET Framework 4.6 또는 4.5 설치 되어 있고 각 노드에서 클러스터에 PowerShell 원격 설정 되어 있는지 확인 합니다. 자세한 내용은 원격 관리에 노드 구성 [요구 사항 및 모범 사례 클러스터 업데이트에 대 한](cluster-aware-updating-requirements.md)합니다.


|옵션|기본값|세부 정보|  
|------------|-------------------|-------------|  
|**StopAfter**|무제한 시간|이후에 실행 업데이트 중지 됩니다 완료 되지 않은 경우에 한 시간입니다. **참고:** 사전 업데이트 하거나 업데이트 후 PowerShell 스크립트를 지정 하면 전체 프로세스 스크립트를 실행할 및 성능을 업데이트 내 완료 해야는 **StopAfter** 시간 제한 됩니다.|  
|**WarnAfter**|기본적으로 경고가 나타나지|시간 (분) 되는 업데이트를 실행 등 전 업데이트 스크립트 업데이트 후 스크립트 구성 된 경우 완료 되지 않은 경우 경고가 표시 됩니다.|  
|**MaxRetriesPerNode**|3|최대 시간을 노드 당 (등 전 업데이트 스크립트 업데이트 후 스크립트 구성 된 경우) 업데이트 프로세스를 다시 시도 합니다. 최대 64입니다.|  
|**MaxFailedNodes**|대부분의 클러스터 1-3 클러스터 노드에서 수 있는 integer에 대 한|최대 업데이트는 실패할 수, 하거나 노드 실패 또는 실행 되는 클러스터 서비스 경유지 노드 수 있습니다. 한 더 많은 노드가 실패, 업데이트 실행 중지 됩니다.<br /><br /> 올바르지 값 범위 클러스터 노드에서 수가 1 0 이내입니다.|  
|**RequireAllNodesOnline**|없음|모든 노드 온라인 있어야 하 고 업데이트 하기 전에 연결할 수 있는 시작 지정 합니다.|  
|**RebootTimeoutMinutes**|15|시간 CAU (하는 경우 다시 필요할) 노드 다시 시작 및 모든 자동으로 시작 서비스를 시작 하면 분 것입니다. 이 시간 내에 다시 시작 완료 되지 않으면, 실패 상태로 표시 되 해당 노드에서 업데이트 실행 합니다.|  
|**PreUpdateScript**|없음|업데이트를 시작 하기 전에 및 노드는 모드로 유지 관리 하기 전에 각 노드에서 실행 하는 PowerShell 스크립트를 경로 및 파일 이름입니다. 파일 이름 확장명 있어야 **.ps1**, 하며 경로 및 파일 이름의 전체 길이 260 문자를 초과 하지 않아야 합니다. 모범 사례로 스크립트 클러스터 저장소 또는 클러스터 노드에서 모든 항목에 액세스할 수 있는 항상 인지 확인 하려면 항상 사용 가능한 네트워크 파일 공유에서 디스크에 있어야 합니다. 스크립트를 네트워크 파일 공유에 있는 그룹 하 고 파일이 무단으로 손상을 방지에 대 한 쓰기 제한 모든 사람에 대 한 사용 권한을 읽기 파일 공유를 구성 하는 확인 합니다.<br /><br /> 사전 업데이트 스크립트 지정 하면 반드시 시간 등의 설정을 제한 (예를 들어, **StopAfter**) 스크립트를 성공적으로 실행 수 있도록 구성 되어 있습니다. 이러한 제한을 스크립트를 실행할 및 업데이트를 설치 뿐 아니라 업데이트 설치 프로세스는 전체 프로세스를 확장 합니다.|  
|**PostUpdateScript**|없음|PowerShell 스크립트를 실행할 업데이트 한 후에 대 한 경로 및 파일 이름 (후 노드 잎 인가)를 완료 합니다. 파일 이름 확장명 있어야 **.ps1** 고 경로 및 파일 이름의 전체 길이 260 문자를 초과 하지 않아야 합니다. 모범 사례로 스크립트 클러스터 저장소 또는 클러스터 노드에서 모든 항목에 액세스할 수 있는 항상 인지 확인 하려면 항상 사용 가능한 네트워크 파일 공유에서 디스크에 있어야 합니다. 스크립트를 네트워크 파일 공유에 있는 그룹 하 고 파일이 무단으로 손상을 방지에 대 한 쓰기 제한 모든 사람에 대 한 사용 권한을 읽기 파일 공유를 구성 하는 확인 합니다.<br /><br /> 업데이트 후 스크립트를 지정 해야 시간 등의 설정을 제한 (예를 들어, **StopAfter**) 스크립트를 성공적으로 실행 수 있도록 구성 되어 있습니다. 이러한 제한을 스크립트를 실행할 및 업데이트를 설치 뿐 아니라 업데이트 설치 프로세스는 전체 프로세스를 확장 합니다.|  
|**ConfigurationName**|이 설정에만 적용 스크립트를 실행할 경우 합니다.<br /><br /> 사전 업데이트 스크립트 하거나 업데이트 후 스크립트 지정 있지만 지정 하지 않은 경우는 **ConfigurationName**, PowerShell (Microsoft.PowerShell)에 대 한 구성 사용 되는 기본 세션 합니다.|어떤 스크립트에서 세션을 정의 하는 PowerShell 세션 구성을 지정 (으로 지정 **PreUpdateScript** 및 **PostUpdateScript**)를 실행 하 고 실행 될 수 있는 명령 제한할 수 있습니다.|  
|**CauPluginName**|**Microsoft.WindowsUpdatePlugin**|플러그 인 클러스터 인식 수행 된 업데이트를 실행 또는 업데이트의 미리 보기를 사용 하 여 업데이트를 구성 합니다. 자세한 내용은 참조 [클러스터 인식 업데이트 어떻게 플러그 인 작동](cluster-aware-updating-plug-ins.md)합니다.|  
|**CauPluginArguments**|없음|집합이 *이름 값 =* 플러그 인을 사용을 업데이트에 대 한 쌍 (인수):<br /><br /> **Domain=Domain.local**<br /><br /> 이러한 *이름 값 =* 쌍 플러그 인에 게 의미 있어야에 지정 된 **CauPluginName**합니다.<br /><br /> 인수 CAU UI를 사용 하 여를 지정 하려면 다음을 입력는 *이름*을 Tab 키를 눌러을 누른 다음 해당 *값*합니다. 다음 인수 제공 하기 위해 다시 Tab 키를 누릅니다. 각 *이름* 및 *값* 등호 (=)으로 자동으로 구분 됩니다. 여러 쌍 세미콜론 자동으로 구분 됩니다.<br /><br /> 기본 설정에 대 한 **Microsoft.WindowsUpdatePlugin** 플러그 인을 인수가 필요 하지 합니다. 그러나 예 집합을 업데이트 하 여 플러그 인 적용 되는 필터링 표준 Windows 업데이트 에이전트 쿼리 문자열을 지정 하려는 선택적 인수를 지정할 수 있습니다. 에 대 한는 *이름*, 사용 하 여 **쿼리**에 *값*, 큰따옴표에서 전체 쿼리 포함 합니다.<br /><br /> 자세한 내용은 참조 [클러스터 인식 업데이트 어떻게 플러그 인 작동](cluster-aware-updating-plug-ins.md)합니다.|  
  
##  <a name="BKMK_runtime"></a>업데이트 실행 요청 지정 하는 옵션  
 다음 표에서 (되지 않은 업데이트를 실행 프로필에서)는 업데이트를 실행 요청 하면 지정할 수 있는 옵션을 나열 합니다. 업데이트를 실행 프로필에 설정할 수 있는 옵션에 대 한 정보를 위의 표를 참조 하세요.  
  
|옵션|기본값|세부 정보|  
|------------|-------------------|-------------|  
|**ClusterName**|없음 <br>**참고:** CAU UI는 장애 클러스터 노드에서 실행 되지 않거나 CAU UI 실행 되는 위치에서 다른 클러스터 장애 조치를 참조 하 고 싶은 경우에이 옵션을 설정 해야 합니다.|NetBIOS 업데이트 실행 수행할 클러스터의 이름입니다.|  
|**자격 증명**|현재 계정 자격 증명|관리자 자격 증명 대상에 대 한 클러스터에 업데이트 실행 수행 됩니다. 이미 있을 필요한 자격 증명 시작 CAU UI (하거나 열 PowerShell 세션 CAU PowerShell cmdlet 사용 중인 경우) 하는 경우 클러스터에서 관리자 권한이 있는 계정에서 합니다.|  
|**NodeOrder**|기본적으로 CAU 노드와 클러스터 역할 최소 개수의 소유 하 고 다음 진행 되는 번호와에 두 번째로 가장 작은 된 하는 시작 됩니다.|클러스터 노드에서 업데이트 (가능한 경우) 순서에서의 이름입니다.|  
  
##  <a name="BKMK_profile"></a>업데이트 실행된 프로필을 사용 하 여  
 각 업데이트를 실행 하는 특정 업데이트를 실행 프로필와 연결 될 수 있습니다. 업데이트를 실행 프로필에 저장 되어 기본 설정의 *%windir%\cluster* 폴더 합니다. 원격 업데이트 CAU UI를 사용 중인 경우 수 모드, 업데이트를 적용 하는 시간에 업데이트를 실행 프로필 지정 하거나 기본 실행 업데이트 프로필을 사용할 수 있습니다. CAU 자동으로 업데이트 모드를 사용 하는 자동 업데이트 옵션을 구성 하는 경우 설정을 지정 된 업데이트를 실행 프로필에서 가져올 수 있습니다. 두 경우 모두 사용자의 요구에 따라 업데이트를 실행 옵션에 대 한 표시 된 값 무시할 수 있습니다. 원하는 경우 프로필로 업데이트를 실행 파일 이름이 같은 또는 파일을 다른 이름으로 실행 업데이트 옵션을 저장할 수 있습니다. 다음 업데이트를 적용 하거나 자동 업데이트 옵션을 CAU 자동으로 구성할 할 때 이전에 선택한 업데이트를 실행 프로필을 선택 합니다.  
  
 기존 업데이트를 실행 프로필을 수정 또는 새 앨범을 선택 하 여 만들기 수 **만들기 업데이트를 실행 프로필을 수정 또는** CAU UI에 있습니다.

다음은 업데이트를 실행 프로필을 사용에 대 한 몇 가지 중요 한 정보입니다.

* 업데이트를 실행 프로필 관리 자격 증명 등 클러스터 관련 정보를 저장 하지 않습니다. CAU 자동으로 업데이트 모드를 사용 하는 경우 업데이트를 실행 프로필도 하지 저장 일정 정보를 자동으로 업데이트 합니다. 따라서에 지정된 된 클래스 모든 장애 클러스터에서 업데이트를 실행 프로필을 공유할 수 있습니다.
* 업데이트를 실행 프로필을 사용 하 여 자동 업데이트 옵션을 구성 하 고 나중에 업데이트를 실행 옵션에 대 한 다양 한 값으로 프로필을 수정 하는 경우 자동으로 업데이트 구성 자동으로 변경 되지 않습니다. 새 업데이트를 실행 설정을 적용 하려면 자동 업데이트 옵션을 다시 구성 해야 합니다.
* 프로필 실행 편집기 안타깝게도 지원 하지 않는 같은 공간에는 포함 하는 파일 경로 *C:\Program Files*합니다. 이 문제를 해결 사전에 저장 하 고 업데이트 스크립트 경로 포함할 하거나 PowerShell 인용 주변 경로 실행할 때 첫걸음 실행 프로필 관리를 단독으로 사용 하지 않는에 게시 **호출 CauRun**합니다.

### <a name="windows-powershell-equivalent-commands"></a>Windows PowerShell 해당 하는 명령
  
 실행 하는 경우 업데이트를 실행 프로필에서 설정을 가져올 수 있는 **호출 CauRun**, **추가 CauClusterRole**, 또는 **설정 CauClusterRole** cmdlet 합니다.  
  
 검사는 전체 업데이트에서 실행 하 라는 클러스터 다음 예 수행 *CONTOSO FC1*에 지정 된 업데이트를 실행 옵션을 사용 하 여 *C:\Windows\Cluster\DefaultParameters.xml*합니다. 나머지 cmdlet 매개에 대 한 기본값 사용 됩니다.  
  
```powershell  
$MyRunProfile = Import-Clixml C:\Windows\Cluster\DefaultParameters.xml  
Invoke-CauRun –ClusterName CONTOSO-FC1 @MyRunProfile   
```  
  
 업데이트를 실행 프로필을 사용 하 여 반복에서 클러스터 장애 조치 예외 관리, 시간 범위 및 기타 운영 매개 일관성 있는 설정을 사용 하 여 업데이트할 수 있습니다. 이 설정은 일반적으로 특정 클래스 클러스터 장애 조치를 때문에-"모든 Microsoft SQL Server 클러스터" 또는 "내 업무용 클러스터"과 같은 등 각 업데이트를 실행 프로필 에서도 사용할 수는 장애 클러스터 클래스 따르면 이름을 지정 하는 것이 좋습니다. 또한, 업데이트 실행 프로필의 특정 조직의 IT 장애 조치 클러스터의 모든 항목에 액세스할 수 있는 파일 공유에서 관리 좋습니다.  
  
  
  
## <a name="see-also"></a>참조 하십시오

-   [클러스터 인식 업데이트](cluster-aware-updating.md)
  
-   [Windows PowerShell 업데이트 Cmdlet 클러스터 인식](https://technet.microsoft.com/itpro/powershell/windows/cluster-aware-updating)