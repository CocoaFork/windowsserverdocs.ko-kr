---
title: 장애 조치 클러스터에서 쿼럼 구성 및 관리
description: Windows Server 장애 조치 클러스터에서 클러스터 쿼럼을 관리 하는 방법에 대 한 자세한 정보입니다.
ms.prod: windows-server-threshold
ms.topic: article
author: JasonGerend
ms.author: jgerend
ms.technology: storage-failover-clustering
ms.date: 01/18/2019
ms.localizationpriority: medium
ms.openlocfilehash: 21f99362205e0a6aa90ebd26cef8f3a779bdc1dc
ms.sourcegitcommit: 28dc7c7f1e44fee7ab2112228af329a9ce0e02ba
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 01/22/2019
ms.locfileid: "9023999"
---
# 쿼럼 구성 및 관리

>적용 대상: Windows Server 2019, Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

이 항목에서는 배경 및 Windows Server 장애 조치 클러스터에서 쿼럼 구성 및 관리 하는 단계를 제공 합니다.

## 이해 쿼럼

클러스터 쿼럼 제대로 시작 하거나 계속 실행 해당 클러스터에 대 한 활성 클러스터 구성원의 일부 여야 하는 응답 요소 수가 결정 됩니다. 자세한 내용은 [이해 클러스터 및 풀 쿼럼 문서](../storage/storage-spaces/understand-quorum.md)를 참조 하세요.

## 쿼럼 구성 옵션

Windows Server의 쿼럼 모델은 유연 합니다. 클러스터에 대 한 쿼럼 구성을 수정 해야 할 경우에 클러스터 쿼럼 구성 마법사 또는 장애 조치 클러스터 Windows PowerShell cmdlet을 사용할 수 있습니다. 단계 및 쿼럼 구성에 따른 [클러스터 쿼럼 구성](#configure-the-cluster-quorum) 이 항목의 뒷부분에서 참조 하세요.

다음 표에서 클러스터 쿼럼 구성 마법사에서 사용할 수 있는 세 가지 쿼럼 구성 옵션을 보여 줍니다.

<table>
<thead>
<tr class="header">
<th>옵션</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>일반적인 설정 사용</td>
<td>클러스터 각 노드에 응답을 자동으로 할당 하 고 동적으로 노드 표를 관리 합니다. 클러스터에 적합 하는 경우는 사용할 수 있는 클러스터 공유 저장소 클러스터 디스크 감시를 선택 합니다. 대부분의 경우이 옵션은 권장, 클러스터에 대 한 가장 높은 가용성을 제공 하는 클러스터 소프트웨어에는 자동으로 쿼럼 및 감시 구성 선택 때문에 있습니다.</td>
</tr>
<tr class="even">
<td>추가 또는 변경 쿼럼 감시</td>
<td>추가, 변경 또는 감시 리소스를 제거할 수 있습니다. 파일 공유 또는 디스크 감시를 구성할 수 있습니다. 클러스터 각 노드에 응답을 자동으로 할당 하 고 동적으로 노드 표를 관리 합니다.</td>
</tr>
<tr class="odd">
<td>고급 쿼럼 구성 및 감시 선택</td>
<td>쿼럼 구성에 대 한 응용 프로그램별 또는 사이트별 요구 사항이 있는 경우에이 옵션을 선택 해야 합니다. 수정 쿼럼 감시, 추가 또는 노드 투표 제거 하 고 수 클러스터 노드 표를 동적으로 관리 하는지 여부를 선택 합니다. 기본적으로 모든 노드에 투표 할당 됩니다 및 노드 투표 동적으로 관리 됩니다.</td>
</tr>
</tbody>
</table>

쿼럼 구성 옵션을 선택 하 고 특정 설정에 따라 다음 쿼럼 모드 중 하나에서 클러스터를 구성 됩니다.

<table>
<thead>
<tr class="header">
<th>모드</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>노드 과반수 (감시 없음)</td>
<td>노드만 응답 했습니다. 없음 쿼럼 감시 구성 됩니다. 클러스터의 활성 클러스터 구성원 노드 응답 대부분입니다.</td>
</tr>
<tr class="even">
<td>감시 (디스크 또는 파일 공유)를 사용 하 여 노드 과반수</td>
<td>노드에 있는 응답 합니다. 또한 쿼럼 감시는 응답을 있습니다. 클러스터 쿼럼 감시 투표 활성 클러스터 구성원에 응답 노드의 대부분입니다.<br />
<br />
지정 된 디스크 감시 또는 지정 된 파일 공유 감시 쿼럼 감시 될 수 있습니다.</td>
</tr>
<tr class="odd">
<td>과반수 없음 (디스크 감시에만 해당)</td>
<td>노드가 투표 했습니다. 만 디스크 감시는 응답을 있습니다. 클러스터 쿼럼 디스크 감시의 상태에 의해 결정 됩니다.<br />
<br />
클러스터 노드를 사용할 수 있으며 클러스터 저장소의 특정 디스크와 통신 하는 경우 쿼럼을 있습니다. 이 모드는 권장 되지 않습니다 및 것을 선택 하지 않아야 클러스터에 대 한 오류는 단일 액세스 지점을 만들기 때문에 일반적으로 합니다.</td>
</tr>
</tbody>
</table>

고급 쿼럼 구성 설정에 대 한 자세한 내용은 다음 하위 섹션을 제공 합니다.

### 감시 구성

일반적으로 쿼럼 구성 클러스터의 응답 요소 있어야 홀수 합니다. 따라서 클러스터 노드 투표 짝수 있으면, 디스크 감시 또는 파일 공유 감시 구성 해야 합니다. 클러스터는 하나의 노드가 아래로 유지 수. 있습니다 또한 감시 투표 추가 절반 클러스터 노드에서 동시에 이동 또는 연결이 끊어진 경우 계속 실행 되도록 클러스터 수 있습니다.

모든 노드는 디스크를 볼 수 있는 경우 디스크 감시 일반적으로 권장 합니다. 복제 된 저장소를 사용 하 여 멀티 사이트 재해 복구를 고려해 야 할 때 파일 공유 감시 것이 좋습니다. 복제 된 저장소를 사용 하 여 디스크 감시를 구성 하는 것은 저장소 공급 업체 지원 모든 사이트에서 복제 된 저장소를 읽기-쓰기 액세스 하는 경우에 가능 합니다. <strong>*저장소 공간 다이렉트를 사용 하 여 디스크 감시 지원 되지 않습니다*</strong>.

다음 표에서 쿼럼 감시 형식에 대 한 고려 사항 및 추가 정보를 제공합니다.

<table>
<thead>
<tr class="header">
<th>감시 유형</th>
<th>설명</th>
<th>요구 사항 및 권장 사항</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>디스크 감시</td>
<td>- 클러스터 데이터베이스의 복사본을 저장 하는 전용된 LUN<br />
- (복제 되지) 공유 저장소를 사용 하 여 클러스터에 대 한 유용한</td>
<td>- LUN의 크기 512MB 이상이 있어야 합니다.<br />
- 전용으로 사용 하 여 클러스터 및 클러스터 된 역할에 할당 되지 해야 합니다<br />
- 클러스터 저장소 및 패스 저장소 유효성 검사 테스트에 포함 되어야 합니다.<br />
- 디스크를 클러스터 공유 볼륨 (CSV) 해야 합니다.<br />
- 단일 볼륨을 사용 하 여 기본 디스크<br />
- 드라이브 문자가 필요는 없습니다.<br />
- NTFS 또는 ReFS로 포맷 수 있습니다.<br />
- 하드웨어 RAID 내결함성을 위해 선택적으로 구성할 수 있습니다.<br />
- 백업 및 바이러스 백신 검사에서 제외할<br />
- 저장소 공간 다이렉트로 지원 되지 않습니다 디스크 감시</td>
</tr>
<tr class="even">
<td>파일 공유 감시</td>
<td>- Windows Server를 실행 하는 파일 서버에 구성 된 SMB 파일 공유<br />
- 클러스터 데이터베이스의 복사본을 저장 하지 않습니다.<br />
- Witness.log 파일에만 클러스터 정보를 유지 관리<br />
- 복제 된 저장소를 사용 하 여 멀티 사이트 클러스터에 대 한 유용한</td>
<td>- 최소 5 이상의 여유 공간이 있어야 합니다.<br />
- 단일 클러스터에 전용 고 없는 사용자 또는 응용 프로그램 데이터를 저장 하는 데 사용 해야 합니다<br />
- 쓰기 권한이 설정 해야 클러스터 이름에 대 한 컴퓨터 개체에 대해<br />
<br />
다음은 파일 공유 감시를 호스트 하는 파일 서버에 대 한 추가 고려 사항입니다.<br />
<br />
- 단일 파일 서버 클러스터의 여러 파일 공유 목격자를 사용 하 여 구성할 수 있습니다.<br />
- 파일 서버 클러스터 워크 로드와에서 별개인 사이트에 있어야 합니다. 이 사이트 간 네트워크 통신 분실 된 경우 계속 작동할 수 클러스터 사이트에 대 한 같은 기회 수 있습니다. 파일 서버를 동일한 사이트에서 해당 사이트 기본 사이트 되며 파일 공유에 연결할 수 있는 유일한 사이트입니다.<br />
- 파일 서버는 가상 컴퓨터 파일 공유 감시를 사용 하는 동일한 클러스터에 호스트 되지 않는 경우 가상 컴퓨터에서 실행할 수 있습니다.<br />
- 고가용성을 위해 별도 장애 조치 클러스터에서 파일 서버를 구성할 수 있습니다.</td>
</tr>

<tr class-"odd">
<td>클라우드 감시</td>
<td>- Azure blob 저장소에 저장 된 감시 파일<br>
클러스터의 모든 서버는 신뢰할 수 있는 인터넷 연결이 있는 경우 권장 합니다.</td>
<td>참고 <a href="https://docs.microsoft.com/windows-server/failover-clustering/deploy-cloud-witness">클라우드 감시 배포</a>.</td>
<td>
</td>
</tr>

</tbody>
</table>

### 노드 투표 할당

고급 쿼럼 구성 옵션으로 할당 하거나 제거할-노드 단위로 쿼럼 투표 선택할 수 있습니다. 기본적으로 모든 노드 투표 할당 됩니다. 투표 할당에 관계 없이 모든 노드 클러스터의 기능, 클러스터 데이터베이스 업데이트를 받을 계속 하 고 응용 프로그램을 호스트할 수 있습니다.

특정 재해 복구 구성에서 노드에서 투표 제거 하려고 합니다. 예를 들어 멀티 사이트 클러스터에서 제거할 수 있습니다 투표 백업 사이트의 노드에서 하는 노드 쿼럼 계산 영향을 주지 않습니다. 이 구성은 수동 장애 조치에 대해서만 사이트 간에 좋습니다. 자세한 내용은이 항목의 뒷부분에 [재해 복구 구성에 대 한 쿼럼 고려 사항을](#quorum-considerations-for-disaster-recovery-configurations) 참조 하세요.

[Get ClusterNode](http://technet.microsoft.com/library/hh847268.aspx)Windows PowerShell cmdlet을 사용 하 여 클러스터 노드의 **NodeWeight** 일반적인 속성을 조회 하 여 노드의 구성 된 응답을 확인할 수 있습니다. 값 0 노드 구성 하는 쿼럼 응답 하지 않았는지 나타냅니다. 값 1 노드의 쿼럼 투표 할당 되 고 클러스터에 의해 관리 되는 나타냅니다. 노드 투표 관리에 대 한 자세한 내용은이 항목의 뒷부분에서 [동적 쿼럼 관리](#dynamic-quorum-management) 를 참조 하세요.

**클러스터 쿼럼 유효성 검사** 유효성 검사 테스트를 사용 하 여 모든 클러스터 노드에서 대 한 응답 할당을 확인할 수 있습니다.

#### 노드 투표 할당에 대 한 추가 고려 사항

  - 노드 투표 할당 홀수 응답 노드를 적용 하기 위한 권장 되지 않습니다. 대신, 디스크 감시 또는 파일 공유 감시를 구성 해야 합니다. 자세한 내용은이 항목의 뒷부분에서 [감시 구성](#witness-configuration) 을 참조 하세요.
  - 동적 쿼럼 관리를 사용 하는 노드 투표 할당 하도록 구성 된 노드만 투표 할당 또는 제거를 동적으로 할당할 수 있습니다. 자세한 내용은이 항목의 뒷부분에서 [동적 쿼럼 관리](#dynamic-quorum-management) 를 참조 하세요.

### 동적 쿼럼 관리

Windows Server 2012에서 고급 쿼럼 구성 옵션으로 클러스터에서 쿼럼 동적 관리를 사용 하도록 선택할 수 있습니다. 어떻게 동적 쿼럼 작동에 대 한 자세한 내용은 [이 설명을](../storage/storage-spaces/understand-quorum.md#dynamic-quorum-behavior)참조 하세요.

동적 쿼럼 관리를 사용 하 여 마지막 남아 있는 클러스터 노드에서 실행 하도록 클러스터에 대 한 가능한 이기도 합니다. 동적으로 조정 쿼럼 대부분 요구 사항, 클러스터 단일 노드를 순차적 노드 종료를 유지할 수 있습니다.

[Get ClusterNode](https://docs.microsoft.com/powershell/module/failoverclusters/get-clusternode?view=win10-ps) Windows PowerShell cmdlet을 사용 하 여 클러스터 노드의 **DynamicWeight** 일반적인 속성을 사용 하 여 노드의 클러스터에 할당 된 동적 응답을 확인할 수 있습니다. 값 0 노드는 쿼럼 응답 하지 않았는지 나타냅니다. 값 1 노드는 쿼럼 투표에 있음을 나타냅니다.

**클러스터 쿼럼 유효성 검사** 유효성 검사 테스트를 사용 하 여 모든 클러스터 노드에서 대 한 응답 할당을 확인할 수 있습니다.

#### 동적 쿼럼 관리를 위한 추가 고려 사항

- 동적 쿼럼 관리 응답 멤버의 대부분의 동시 실패를 지원할 수 있도록 클러스터를 허용 하지 않습니다. 실행을 계속 해 서 클러스터 노드 종료 또는 실패 시 항상 쿼럼 대부분이 되어 있어야 합니다.

- 노드의 투표를 명시적으로 제거한 경우 클러스터 추가 하거나 제거 해당 투표 동적으로 수 없습니다.
- 저장소 공간 다이렉트를 사용 하면 클러스터 두 노드 장애 지원할 수 있습니다. 더 [풀 쿼럼 섹션](../storage/storage-spaces/understand-quorum.md#poolQuorum) 에 설명 되어

## 쿼럼 구성에 대 한 일반 권장 사항

클러스터 소프트웨어에는 자동으로 구성 된 노드의 수와 공유 저장소의 가용성에 따라 새 클러스터 쿼럼을 구성 합니다. 이것은 일반적으로 해당 클러스터에 대 한 가장 적합 한 쿼럼 구성 합니다. 그러나 것이 프로덕션 환경에 클러스터를 배치 하기 전에 클러스터를 만든 후 쿼럼 구성을 검토 하는 것이 좋습니다. 자세한 클러스터 쿼럼 구성을 볼 수 있습니다. 하면 유효성 검사 [테스트 클러스터](https://docs.microsoft.com/powershell/module/failoverclusters/test-cluster?view=win10-ps) Windows PowerShell cmdlet 또는 구성 마법사를 사용 하 여 **쿼럼 구성의 유효성을 검사** 테스트를 실행 합니다. 장애 조치 클러스터 관리자에서 기본 쿼럼 구성 선택 된 클러스터에 대 한 요약 정보가 표시 됩니다 또는 [Get ClusterQuorum](https://docs.microsoft.com/powershell/module/failoverclusters/get-clusterquorum?view=win10-ps) Windows PowerShell을 실행 하면 반환 하는 쿼럼 리소스에 대 한 정보를 검토할 수 있습니다. cmdlet입니다.

언제 든 지 확인 하기 위한 **쿼럼 구성의 유효성을 검사** 테스트 쿼럼 구성은 클러스터에 대 한 최적의 실행할 수 있습니다. 테스트 출력 경우 쿼럼 구성에 대 한 변경 권장 되며 최적의 되는 설정을 나타냅니다. 변경 권장 되는 경우 권장 되는 설정을 적용 하려면 클러스터 쿼럼 구성 마법사를 사용할 수 있습니다.

프로덕션 환경에서 클러스터 되 면 변경 내용이 클러스터에 대 한 적절 한 결정 하지 않는 한 쿼럼 구성을 변경 되지 않습니다. 다음과 같은 상황에서 쿼럼 구성 변경 고려해 야 할 수 있습니다.

- 노드 추가 또는 제거
- 추가 또는 제거 저장소
- 장기 노드 또는 감시 실패
- 멀티 사이트 재해 복구 시나리오에서 클러스터를 복구

장애 조치 클러스터 유효성 검사에 대 한 자세한 내용은 [장애 조치 클러스터에 대 한 하드웨어 유효성 검사](<https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/jj134244(v%3dws.11)>)를 참조 하세요.

## 클러스터 쿼럼 구성

장애 조치 클러스터 관리자 또는 장애 조치 클러스터 Windows PowerShell cmdlet을 사용 하 여 클러스터 쿼럼 설정을 구성할 수 있습니다.

>[!IMPORTANT]
>일반적으로 클러스터 쿼럼 구성 마법사에서 권장 하는 쿼럼 구성을 사용 하는 것이 좋습니다. 변경 내용이 클러스터에 대 한 적절 한 결정 한 경우에 쿼럼 구성 사용자 지정 하는 것이 좋습니다. 자세한 내용은이 항목에서 [쿼럼 구성에 대 한 일반 권장 사항](#general-recommendations-for-quorum-configuration) 참조 하세요.

### 클러스터 쿼럼 설정 구성

각 클러스터 서버 또는 이와 동등한에서 로컬 **관리자** 그룹의 구성원은이 절차를 완료 하는 데 필요한 최소 권한. 또한 사용 하는 계정을 도메인 사용자 계정 이어야 합니다.

>[!NOTE]
>클러스터 쿼럼 구성 클러스터 또는 라인 클러스터 리소스를 오프 라인으로 중지 하지 않고 변경할 수 있습니다.

### 장애 조치 클러스터 관리자를 사용 하 여 장애 조치 클러스터에서 쿼럼 구성 변경

1. 장애 조치 클러스터 관리자에서 선택 하거나 변경 하려는 클러스터를 지정 합니다.
2. **작업**선택 된 클러스터를 사용 하 여 **추가 작업**을 선택 하 고 **클러스터 쿼럼 설정 구성**을 선택 합니다. 클러스터 쿼럼 구성 마법사가 나타납니다. **다음**을 선택합니다.
3. **쿼럼 구성 옵션 선택** 페이지에서 세 가지 구성 옵션 중 하나를 선택 하 고 해당 옵션에 대 한 단계를 완료 합니다. 쿼럼 설정을 구성 하기 전에 검토할 수 있습니다. 옵션에 대 한 자세한 내용은이 항목 앞부분에 [장애 조치 클러스터에서 쿼럼의 개요](#overview-of-the-quorum-in-a-failover-cluster)를 참조 하세요.

    - 현재 클러스터 구성에 대 한 최적의 되는 쿼럼 설정을 자동으로 되돌리려면 클러스터를 허용 하려면 **일반적인 설정을 사용 하 여** 선택한 다음 마법사를 완료 합니다.
    - 을 추가 하거나 쿼럼 감시를 변경 하려면 **추가 또는 변경 쿼럼 감시를**선택 하 고 다음 단계를 완료 합니다. 정보 및 쿼럼 감시를 구성 하는 방법에 대 한 고려 사항에 대 한 [감시 구성](#witness-configuration) 이 항목 앞부분에 참조 하세요.

      1. **쿼럼 감시 선택** 페이지에서 디스크 감시 또는 파일 공유 감시를 구성 하는 옵션을 선택 합니다. 마법사를 클러스터에 대 한 권장 되는 감시 선택 옵션을 나타냅니다.

          >[!NOTE]
          >또한 **쿼럼 감시를 구성 하지 않으면** 선택한 다음 마법사를 완료 합니다. 클러스터에 있는 노드 투표 짝수 있는 경우에 권장 되는 구성이 아닐 수 있습니다.

      2. **저장소 감시 구성** 페이지에서 디스크 감시를 구성 하는 옵션을 선택 하는 경우 디스크 감시로 할당 하고자 하는 저장소 볼륨을 선택 하 고 마법사를 완료 합니다.
      3. **파일 공유 감시 구성** 페이지에서 파일 공유 감시를 구성 하는 옵션을 선택 하는 경우 입력 하거나 파일 공유 감시 리소스로 사용 되며 다음 마법사를 완료를 찾습니다.

    - 쿼럼 관리 설정을 구성 하 고을 추가 하거나 쿼럼 감시를 변경 하려면 **고급 쿼럼 구성 및 감시 선택 항목을**선택 하 고 다음 단계를 완료 합니다. 정보 및 고급 쿼럼 구성 설정에 대 한 고려 사항에 대 한이 항목 앞부분에 [할당 투표 노드](#node-vote-assignment) 및 [동적 쿼럼 관리](#dynamic-quorum-management) 를 참조 합니다.

      1. **응답 구성 선택** 페이지에서 응답을 노드에 지정 하는 옵션을 선택 합니다. 기본적으로 모든 노드는 응답을 할당 됩니다. 그러나 특정 시나리오를 할당할 수 있습니다 투표 노드 중 일부에만.

          >[!NOTE]
          >**아니요 노드**를 선택할 수 있습니다. 이 일반적으로 권장 되지 않습니다, 노드 쿼럼 응답에 참여 하도록 허용 하지 않습니다. 이므로 디스크 감시 구성 해야 합니다. 이 디스크 감시 클러스터에 대 한 오류는 단일 액세스 지점이 됩니다.

      2. **쿼럼 구성 관리** 페이지에서 사용 하거나 **투표 허용 클러스터 노드의 할당을 동적으로 관리 하** 는 옵션을 사용 하지 않도록 설정할 수 있습니다. 일반적으로이 옵션을 선택 하면 클러스터의 가용성이 향상 됩니다. 기본적으로는 옵션이 활성화 되 고이 옵션을 해제 하지 않는 것이 좋습니다. 이 옵션을 사용 하면 클러스터가이 옵션을 사용할 때 사용할 수 없는 오류 시나리오에서 계속 실행 되도록 합니다.
      3. **쿼럼 감시 선택** 페이지에서 디스크 감시 또는 파일 공유 감시를 구성 하는 옵션을 선택 합니다. 마법사를 클러스터에 대 한 권장 되는 감시 선택 옵션을 나타냅니다.

          >[!NOTE]
          >또한 **쿼럼 감시를 구성 하지 않으면**, 선택한 다음 마법사를 완료 합니다. 클러스터에 있는 노드 투표 짝수 있는 경우에 권장 되는 구성이 아닐 수 있습니다.

      4. **저장소 감시 구성** 페이지에서 디스크 감시를 구성 하는 옵션을 선택 하는 경우 디스크 감시로 할당 하고자 하는 저장소 볼륨을 선택 하 고 마법사를 완료 합니다.
      5. **파일 공유 감시 구성** 페이지에서 파일 공유 감시를 구성 하는 옵션을 선택 하는 경우 입력 하거나 파일 공유 감시 리소스로 사용 되며 다음 마법사를 완료를 찾습니다.

4. **다음**을 선택합니다. 나타나는 확인 페이지에서 선택 사항을 확인 하 고 **** 을 선택 합니다.

마법사를 실행 하 고 마법사를 수행 하는 작업에 대 한 보고서를 보려는 경우 **요약** 페이지가 표시를 후 **보고서 보기를**선택 합니다. 가장 최근 보고서에 유지 되며 합니다 *systemroot * * * \\Cluster\\Reports** **QuorumConfiguration.mht**이름의 폴더가 있습니다.

>[!NOTE]
>클러스터 쿼럼을 구성한 후 업데이트 된 쿼럼 설정을 확인 하려면 **쿼럼 구성의 유효성을 검사** 테스트를 실행 하는 것이 좋습니다.

### 해당 하는 Windows PowerShell 명령

다음 예제에서는 클러스터 쿼럼 구성 하려면 [Set-clusterquorum](https://docs.microsoft.com/powershell/module/failoverclusters/set-clusterquorum?view=win10-ps) cmdlet 및 기타 Windows PowerShell cmdlet을 사용 하는 방법을 보여 줍니다.

다음 예제에서는를 없는 쿼럼 감시를 사용 하 여 간단한 노드 대부분 구성 *CONTOSO FC1* 클러스터에서 쿼럼 구성을 변경 됩니다.

```PowerShell
Set-ClusterQuorum –Cluster CONTOSO-FC1 -NodeMajority
```

다음 예제에서는 감시 구성 사용 하 여 노드 대부분에 로컬 클러스터에서 쿼럼 구성을 변경 됩니다. *클러스터 디스크 2* 라는 디스크 리소스 디스크 감시로 구성 됩니다.

```PowerShell
Set-ClusterQuorum -NodeAndDiskMajority "Cluster Disk 2"
```

다음 예제에서는 감시 구성 사용 하 여 노드 대부분에 로컬 클러스터에서 쿼럼 구성을 변경 됩니다. *\\\CONTOSO-FS\\fsw* 라는 파일 공유 리소스 파일 공유 감시로 구성 됩니다.

```PowerShell
Set-ClusterQuorum -NodeAndFileShareMajority "\\fileserver\fsw"
```

다음 예제에서는 로컬 클러스터에서 노드 *ContosoFCNode1* 에서 쿼럼 투표를 제거합니다.

```PowerShell
(Get-ClusterNode ContosoFCNode1).NodeWeight=0
```

다음 예제에서는 노드에 *ContosoFCNode1* 로컬 클러스터에서 쿼럼 응답을 추가합니다.

```PowerShell
(Get-ClusterNode ContosoFCNode1).NodeWeight=1
```

다음 예제에서는 (이전에 비활성화 된) 경우 *CONTOSO FC1* 클러스터의 **DynamicQuorum** 속성을 활성화 합니다.

```PowerShell
(Get-Cluster CONTOSO-FC1).DynamicQuorum=1
```

## 클러스터 쿼럼 없이 시작 하 여 복구

클러스터 쿼럼 투표 충분 하지 않은 시작 되지 않습니다. 첫 번째 단계로, 클러스터 쿼럼 구성을 확인 하 고 조사 클러스터 쿼럼 더 이상에 되는 이유는 항상 해야 합니다. 이 응답을 중지 하는 노드가 있는 경우 또는 기본 사이트 멀티 사이트 클러스터에서 연결할 수 없는 경우 발생할 수 있습니다. 클러스터 실패에 대 한 근본 원인을 식별 하면이 섹션에 설명 된 복구 단계를 사용할 수 있습니다.

>[!NOTE]
> * 쿼럼 손실 이므로 클러스터 서비스가 중지 되 면 이벤트 ID 1177 시스템 로그에 표시 됩니다.
> * 클러스터 쿼럼 손실 된 이유를 조사 하는 데 필요한는 항상 합니다.
> * 항상 클러스터 쿼럼 없이 시작 하지 않고 정상 상태 (조인 클러스터)에 노드 또는 쿼럼 감시 하는 것이 좋습니다.

### 힘은 클러스터 노드를 시작 합니다.

클러스터 노드 또는 쿼럼 감시 정상 상태를 연결 하 여 복구할 수 없다는 확인 한 후 시작 하 여 클러스터를 강제로 필요 합니다. 시작 하려면 클러스터를 강제로 클러스터 쿼럼 구성 설정을 재정의 하 고 **ForceQuorum** 모드에서 클러스터를 시작 합니다.

클러스터 쿼럼에 없는 경우 시작를 시작 하는 멀티 사이트 클러스터에서 특히 유용할 수 있습니다. 별도로 있는 기본 및 백업 사이트를 *사이트* 와 *만들고*포함 하는 클러스터를 사용 하 여 재해 복구 시나리오를 고려 합니다. *사이트*에 정품 재해 있는 경우 다시 온라인 상태가 사이트에 대 한 시간이 많이 걸릴 수 있습니다. 쿼럼 하지 않은 경우에, 온라인으로 *만들고* 강제로 하려는 가능성이 높습니다.

전후의 회복 될 클러스터 **ForceQuorum** 모드에서 시작 되 면 충분 한 쿼럼 투표, 클러스터 자동으로 상태가 강제, 및 정상적으로 작동 합니다. 따라서 클러스터를 정상적으로 다시 시작할 필요는 없습니다. 클러스터 노드를 잃음 쿼럼 손실을 이동 오프 라인 다시 강제 상태에 더 이상 있기 때문에 합니다. 쿼럼 없을 때 다시 온라인 상태로 클러스터 쿼럼 없이 시작를 강제로 필요 합니다.

>[!IMPORTANT]
>* 클러스터 힘 시작 되 면 관리자 클러스터의 완전 한 제어를.
>* 클러스터는 클러스터 시작, 힘을가 노드에서 클러스터 구성을 사용 하 고 사용할 수 있는 다른 모든 노드로 복제 합니다.
>* 클러스터 쿼럼 없이 시작을 실행 하면 클러스터 **ForceQuorum** 모드로 유지 하는 동안 모든 쿼럼 구성 설정이 무시 됩니다. 특정 노드 투표 할당 및 동적 쿼럼 관리 설정이 포함 됩니다.

### 나머지 클러스터 노드에서 쿼럼 방지

힘 클러스터 시작 했으면 노드에서 쿼럼 방지 하기 위해 설정 사용 하 여 클러스터에 있는 나머지 노드를 시작 하는 데 필요한 것입니다. 쿼럼 방지 하는 설정을 사용 하 여 시작 노드 새 클러스터 인스턴스를 형성 하는 대신 기존 실행 중인 클러스터에 가입 하도록 클러스터 서비스를 나타냅니다. 이렇게 하면 나머지 노드에서를 형성 하는 두 개의 경쟁 인스턴스를 포함 하는 분할 클러스터에서 않습니다.

이 작업은 필요 힘을 설정한 후 일부 멀티 사이트 재해 복구 시나리오에서는 클러스터를 복구 해야 할 경우 클러스터 백업 사이트를 *만들고*시작 합니다. 가입 힘을 *만들고*, 기본 사이트를 *사이트*의 노드에서에서 클러스터 시작, 금지 쿼럼 시작 해야 합니다.

>[!IMPORTANT]
>클러스터 노드에서 시작 힘 되 면 금지 쿼럼 나머지 노드에서 항상 시작 하는 것이 좋습니다.

장애 조치 클러스터 관리자를 사용 하 여 클러스터를 복구 하는 방법은 다음과 같습니다.

1. 장애 조치 클러스터 관리자에서 선택 하거나 복구 하려면 클러스터를 지정 합니다.
2. **작업**선택 된 클러스터를 사용 하 여 **강제로 클러스터 시작**을 선택 합니다.

    장애 조치 클러스터 관리자 힘 연결할 수 있는 모든 노드에서 클러스터를 시작 합니다. 클러스터를 시작할 때 현재 클러스터 구성을 사용 합니다.

>[!NOTE]
>* 사용 하려는 클러스터 구성을 포함 하는 특정 노드를 시작 하려면 클러스터를 강제로이 절차를 수행한 후 표시 되는 Windows PowerShell cmdlet 또는 해당 하는 명령줄 도구 사용 해야 합니다. 
> * 장애 조치 클러스터 관리자를 사용 하 여 힘을 시작 하는 클러스터에 연결 하는 경우 **클러스터 서비스 시작** 작업 시작 노드를 사용 하 여 노드 쿼럼 방지 하는 설정을 사용 하 여 자동으로 시작 됩니다.

#### Windows PowerShell 상응 하는 명령 (Clusternode 시작)

다음 예제에서는 *ContosoFCNode1*노드에서 시작 되도록 **시작 ClusterNode** cmdlet을 사용 하는 방법을 클러스터 보여 줍니다.

```PowerShell
Start-ClusterNode –Node ContosoFCNode1 –FQ
```

또는 노드에서 로컬로 다음 명령을 입력할 수 있습니다.

```PowerShell
Net Start ClusSvc /FQ
```

다음 예제에서는 *ContosoFCNode1*노드에서 금지 쿼럼 클러스터 서비스를 시작 하려면 **시작 ClusterNode** cmdlet을 사용 하는 방법을 보여 줍니다.

```PowerShell
Start-ClusterNode –Node ContosoFCNode1 –PQ
```

또는 노드에서 로컬로 다음 명령을 입력할 수 있습니다.

```PowerShell
Net Start ClusSvc /PQ
```

## 재해 복구 구성에 대 한 쿼럼 고려 사항

이 섹션에는 특성 및 재해 복구 배포에서 두 가지 멀티 사이트 클러스터 구성에 대 한 쿼럼 구성 요약 되어 있습니다. 쿼럼 구성 지침 사이트 간의 워크 로드에 대 한 자동 장애 조치 또는 수동 장애 조치를 필요에 따라 다릅니다. 일반적으로 구성에는 서비스 수준 계약 (Sla)을 제공 하 고 오류 또는 재해 사이트에서 발생 하는 경우 클러스터 된 워크 로드를 지원 하려면 조직에 적용 되는에 따라 달라 집니다.

### 자동 장애 조치

이 구성에서는 클러스터는 클러스터링 된 역할을 호스팅할 수 있는 두 개 이상의 사이트의 구성 됩니다. 모든 사이트에서 오류가 발생 하는 경우 자동으로 나머지 사이트에 장애 조치 클러스터링 된 역할 예상 됩니다. 따라서 모든 사이트 전체 사이트 오류가 유지할 수 있도록 클러스터 쿼럼 구성 되어야 합니다.

다음 표에서 고려 사항 및이 구성에 대 한 권장 사항이 요약 되어 있습니다.

<table>
<thead>
<tr class="header">
<th>항목</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>다양 한 사이트당 노드 표</td>
<td>같아야</td>
</tr>
<tr class="even">
<td>노드 투표 할당</td>
<td>모든 노드는 동일 하 게 중요 한 노드 표를 제거할 수는</td>
</tr>
<tr class="odd">
<td>동적 쿼럼 관리</td>
<td>활성화 해야</td>
</tr>
<tr class="even">
<td>감시 구성</td>
<td>파일 공유 감시 권장는 클러스터 사이트에서 분리 되는 사이트에서 구성</td>
</tr>
<tr class="odd">
<td>워크 로드</td>
<td>사이트에서 워크 로드를 구성할 수 있습니다.</td>
</tr>
</tbody>
</table>

#### 자동 장애 조치에 대 한 추가 고려 사항

- 별도 사이트에 있는 파일 공유 감시를 구성 하는 것은 같은 기회를 알아 보려면 각 사이트에 필요 합니다. 자세한 내용은이 항목 앞부분에 [감시 구성](#witness-configuration) 을 참조 하세요.

### 수동 장애 조치

이 구성에서는 클러스터는 주 사이트, *사이트*및 백업 (복구) 사이트를 *만들고*구성 합니다. 클러스터 된 역할 *사이트*에 호스트 됩니다. 클러스터 쿼럼 구성으로 인해 *사이트*모든 노드가에서 오류가 발생 하는 경우 클러스터 작동을 중지 합니다. 이 시나리오에서는 관리자가 해야 수동으로 장애 조치 클러스터 서비스를 *만들고* 및 클러스터를 복구 하는 추가 단계를 수행 합니다.

다음 표에서 고려 사항 및이 구성에 대 한 권장 사항이 요약 되어 있습니다.

<table>
<thead>
<tr class="header">
<th>항목</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>다양 한 사이트당 노드 표</td>
<td>다를 수 있습니다.</td>
</tr>
<tr class="even">
<td>노드 투표 할당</td>
<td>- 노드 투표 주 사이트에 노드가에서 제거할 수 없습니다 <em>사이트</em><br />
- 노드 응답에서 백업 사이트에서 노드 제거 <em>만들고</em><br />
- 장기 중단이 발생 하는 경우 <em>사이트</em>, 투표 노드를 할당 해야 합니다 <em>만들고</em> 복구의 일환으로 해당 사이트에서 쿼럼 대부분을 사용 하도록 설정</td>
</tr>
<tr class="odd">
<td>동적 쿼럼 관리</td>
<td>활성화 해야</td>
</tr>
<tr class="even">
<td>감시 구성</td>
<td>- 감시를 구성 하 여 노드 짝수 있으면 <em>사이트</em><br />
- 미러링, 필요한 경우 파일 공유 감시 또는에서 노드 모두에 액세스할 수 있는 디스크 감시 구성 <em>사이트</em> (비대칭 디스크 감시 라고도 함)</td>
</tr>
<tr class="odd">
<td>워크 로드</td>
<td>기본 소유자 노드에서 실행 되는 워크 로드를 사용 하 여 <em>사이트</em></td>
</tr>
</tbody>
</table>

#### 수동 장애 조치에 대 한 추가 고려 사항

- *사이트* 에서 노드만 쿼럼 표를 사용 하 여 처음 구성 됩니다. 이 상태를 *만들고* 노드 클러스터 쿼럼 영향을 주지 않습니다 되도록 해야 합니다.
- *사이트* 유지 한 일시적인 오류 또는 장기 실패 하는 경우 복구 단계에 따라 달라질 수 있습니다.

## 자세한 정보

* [장애 조치(failover) 클러스터링](failover-clustering.md)
* [장애 조치 클러스터 Windows PowerShell cmdlet](https://docs.microsoft.com/powershell/module/failoverclusters/?view=win10-ps)
* [이해 클러스터 및 풀 쿼럼](../storage/storage-spaces/understand-quorum.md)