---
title: Windows Server 균형 조정된 전원 계획에 대 한 튜닝 프로세서 전원 관리 (PPM)
description: Windows Server 균형 조정된 전원 계획에 대 한 튜닝 프로세서 전원 관리 (PPM)
ms.prod: windows-server-threshold
ms.technology: performance-tuning-guide
ms.topic: article
ms.author: Qizha;TristanB
author: phstee
ms.date: 10/16/2017
ms.openlocfilehash: 9b8af89992f01712e16d0ef503c8cbbac915df1d
ms.sourcegitcommit: 6ef4986391607bb28593852d06cc6645e548a4b3
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 06/07/2019
ms.locfileid: "66811583"
---
# <a name="processor-power-management-ppm-tuning-for-the-windows-server-balanced-power-plan"></a>Windows Server 균형 조정된 전원 계획에 대 한 튜닝 프로세서 전원 관리 (PPM)

Windows Server 2008부터 Windows Server 세 가지 전원 관리를 제공 합니다. **분산**, **고성능**, 및 **보호기 Power**합니다. 합니다 **균형** 전원 집합 일반적인 서버 워크 로드에 대해 최상의 에너지 효율성을 제공 하는 것을 목표로 하는 기본적으로 선택 됩니다. 에 대 한 기본 설정을 확인 하려면 사용 된 워크 로드에 설명 합니다 **균형** Windows의 몇 가지 이전 릴리스에 대 한 구성표입니다.

기본 전원 설정을 튜닝 하는 것이 좋습니다. 하려는 매우 다른 워크 로드 특성 또는 성능 및 이러한 워크 로드 보다 전원 요구 사항을 포함 하는 서버 시스템을 실행 하는 경우 (즉, 사용자 지정 전원 계획 만들기). 유용한 튜닝 정보 소스 중 하나는 합니다 [서버 하드웨어에 대 한 전원 고려 사항](../power.md)합니다. 또는 결정할 수 있습니다 합니다 **고성능** 전원 관리 옵션은 어느 정도 향상 된 응답성 대가로 적중 하는 중요 한 에너지 걸리는 것을 인식 하는 해당 환경에 적합 합니다.

> [!IMPORTANT]
> 사용자 지정 항목을 만들고 결과 워크 로드의 특징에 따라 달라 집니다는 매우 잘 알고 있지 특별히 필요한 경우가 아니라면 Windows Server를 사용 하 여 포함 된 전원 정책을 활용 해야 합니다.

## <a name="windows-processor-power-tuning-methodology"></a>Windows 프로세서 전원 조정 방법


### <a name="tested-workloads"></a>테스트 워크 로드

워크 로드는 최상의 집합이 "일반" Windows Server 워크 로드를 처리 하기 위해 선택 됩니다. 물론이 집합이 아닙니다 실제 서버 환경의 전체 범위를 대표 하 합니다.

각 전원 정책에서 튜닝은 다음 다섯 가지 작업에 기반 하는 데이터입니다.

-   **IIS 웹 서버 워크 로드**

    웹의 기본 사항 이라는 Microsoft 내부 벤치 마크는 IIS 웹 서버를 실행 하는 플랫폼의 에너지 효율성을 최적화 하는 데 사용 됩니다. 웹 서버와 웹 액세스 트래픽을 시뮬레이션 하는 여러 클라이언트 설치에 포함 되어 있습니다. 정적 콜드 (디스크 액세스가 필요) 및 동적에서 정적 핫 분포 (메모리), 웹 페이지의 프로덕션 서버 통계 연구를 기반으로 합니다. 서버의 CPU 코어 사용률 (테스트 스펙트럼의 한쪽 끝)를 푸시 하려면 설치에는 충분히 빠른 네트워크 및 디스크 리소스가 필요 합니다.

-   **SQL Server 데이터베이스 워크 로드**

    합니다 [TPC-E](http://www.tpc.org/tpce/default.asp) 벤치 마크는 데이터베이스 성능 분석을 위한 인기 있는 벤치 마크입니다. PPM 튜닝 최적화 OLTP 워크 로드를 생성 하는 것이 됩니다. 이 워크 로드에 상당한 디스크 I/O가 있고 따라서 저장소 시스템 및 메모리 크기에 대 한 높은 성능 요구 사항입니다.

-   **파일 서버 워크 로드**

    Microsoft에서 개발한 벤치 마크를 호출 [FSCT](http://www.snia.org/sites/default/files2/sdc_archives/2009_presentations/tuesday/BartoszNyczkowski-JianYan_FileServerCapacityTool.pdf) SMB 파일 서버 워크 로드를 생성 하는 데 사용 됩니다. 서버에 설정 된 큰 파일을 만들고 여러 클라이언트 시스템 (실제 또는 가상)를 사용 하 여 파일 열기, 닫기 생성, 읽기 및 쓰기 작업을 합니다. 작업 조합에는 프로덕션 서버의 통계 연구를 기반으로 합니다. 이 CPU, 디스크 및 네트워크 리소스를 강조 합니다.

-   **SPECpower – JAVA 워크 로드**

    [SPECpower\_ssj2008](http://spec.org/power_ssj2008/) 공동 기능과 성능 특징을 평가 하는 첫 번째 업계 표준 사양 벤치는 합니다. CPU 부하 수준이 다양 한 서버 쪽 Java 워크 로드는 것입니다. 많은 디스크 또는 네트워크 리소스에 필요 하지 않습니다 하지만 메모리 대역폭에 대 한 특정 요구 사항입니다. 사용자 모드로; 이루어집니다 거의 모든 CPU 작업 커널 모드 작업에 큰 영향을 벤치 마크 능력과 전원 관리 결정 사항 제외 하 고 성능 특징에 없습니다.

-   **응용 프로그램 서버 워크 로드**

    합니다 [SAP SD](http://global.sap.com/campaigns/benchmark/index.epx) 벤치 마크 응용 프로그램 서버 작업이 생성 됩니다. 데이터베이스와 같은 서버 호스트에 응용 프로그램 서버를 사용 하 여 2 계층 설치가 됩니다. 또한이 워크 로드는 다른 테스트 작업에서 다른 성능 메트릭에 대 한 응답 시간을 활용 합니다. 따라서 PPM 매개 변수 응답성에 미치는 영향을 확인에 사용 됩니다. 그럼에도 불구 하 고 것은 아닙니다 모든 대기 시간에 민감한 프로덕션 워크 로드의 특징을 나타낼 수 있습니다.

SPECpower 제외 하 고 벤치 마크의 모든 원래 성능 분석을 위해 설계 된 및 최대 부하 수준에서 실행 되므로 생성 되었습니다. 그러나 실제 프로덕션 서버에 더 일반적이 고에 대 한 흥미로운 부하가 중간 규모의 수준 **균형** 최적화를 계획 합니다. 의도적으로 실행 벤치 마크 다양 한 부하 수준 (10% 단계)의 10%까지 100%에서 (예를 들어, 활성 사용자/클라이언트의 수를 줄이면)에서 다양 한 제한 메서드를 사용 하 여 합니다.

### <a name="hardware-configurations"></a>하드웨어 구성

Windows의 각 릴리스를 최신 프로덕션 서버는 전원 계획 분석 및 최적화 프로세스에서 사용 됩니다. 일부 경우에는 테스트는 다음 Windows 릴리스는 릴리스 일정이 지정 된 일치 하는 사전 프로덕션 시스템에서 수행 되었습니다.

대부분의 서버는 1 ~ 4 프로세서 소켓을 사용 하 여 판매 하 고 감소 최우선으로 에너지 효율 서버 확장 되므로 전원 계획 최적화 테스트 2 소켓 및 4 소켓 시스템에서 주로 실행 됩니다. RAM, 디스크 및 각 테스트에 대 한 네트워크 리소스의 양을 각 시스템에 이르기까지 비용 제한을 정상적으로 유지와 같은 실제 서버 환경에 대 한 수를 고려 하는 동안 전체 용량과 실행을 허용 하도록 선택한 되는 적절 한 구성입니다.

> [!IMPORTANT]
> 시스템에는 최고 부하를 실행 하는 경우에 일반적으로 최적화 낮은 부하 수준에 대 한 해당 최대 부하 수준에서 일관 되 게 실행 하는 서버를 사용 하 여 잘 권장 이므로 합니다 **고성능** 전원 관리 하지 않는 한 에너지 효율성은 우선 순위입니다.

### <a name="metrics"></a>metrics

모든 테스트 거친된 벤치 마크 성능 메트릭으로 처리량을 사용합니다. 응답 시간 (기본 메트릭을 경우 SAP) 제외 하 고 이러한 워크 로드에는 SLA 요구 사항으로 간주 됩니다. 예를 들어, 벤치 마크 실행 평균 또는 최대 응답 시간을 특정 값 보다 작은 경우 "올바른" 간주 됩니다.

따라서 튜닝 분석도 PPM의 성능 메트릭으로 처리량을 사용 합니다.  수준 높은 부하 (CPU 사용률이 100%)에서 우리의 목표는 처리량에 전원 관리 최적화로 인해 여러 백분율을 저하 되지 것입니다. 하지만 보통 및 낮음 부하 수준 (아래 정의)은 전력 효율성을 최대화 하기 위해을 고려해 야 합니다.

![전원 효율성 수식](../../media/serverperf-ppm-formula.jpg)

에너지 소비를 줄이는 낮은 주파수에서 CPU 코어를 실행 합니다. 그러나 낮은 주파수 일반적으로 처리량이 감소 및 응답 시간이 늘어납니다. 에 대 한 합니다 **부하 분산** 전원 응답성 및 전원 효율성을 의도적으로 단점이 존재 합니다. SAP 워크 로드 테스트 뿐만 아니라 다른 워크 로드에 응답 시간 Sla는 응답 시간 증가 이러한 특정 워크 로드에 대 한 특정 임계값 (예를 들어 5%)를 초과 하지 않는지 있는지 확인 해야 합니다.

> [!NOTE]
> 시스템 작업에서는 응답 시간 성능 메트릭으로 두 스위치를 해야 합니다 **고성능** 전원 관리 또는 변경 **부하 분산** 전원 계획에서 제시한 대로 [ 빠른 응답 시간에 대 한 균형 조정된 전원 계획 매개 변수를 권장](recommended-balanced-plan-parameters.md)합니다.

### <a name="tuning-results"></a>튜닝 결과

Microsoft은 Windows Server 2008 부터는 Intel 및 AMD 각 Windows 릴리스에 대 한 최신 서버 프로세서에 대 한 PPM 매개 변수 최적화를 사용 하 여 작동 합니다. 다른 부하 수준에서 최상의 전력 효율성을 찾으려면 앞에서 설명한 작업의 각 매우 다양 한 PPM 매개 변수 조합 테스트 했습니다. 알고리즘 소프트웨어로 구체화 된 및 하드웨어 power 아키텍처로 진화, 각각의 새 Windows Server 항상 더욱 뛰어난 또는 테스트 워크 로드의 범위에서 이전 버전 보다 전력 효율성 같은 합니다.

다음 그림은 Windows Server 2008 R2를 실행 하는 4 소켓 프로덕션 서버에서 다른 TPC-E 부하 수준에서 전력 효율성의 예가 제공 합니다. Windows Server 2008에 비해 보통 수준의 부하 수준 8% 개선을 보여 줍니다.

![전원 효율성 비교](../../media/serverperf-ppm-figure1.jpg)

## <a name="customized-tuning-suggestions"></a>튜닝 제안의 사용자 지정

기본 워크 로드 특성 기본값에 사용 되는 5 개의 워크 로드의 크게 다른 경우 **균형** 전원 관리 PPM 튜닝에 가장 적합 한 검색할 하나 이상의 PPM 매개 변수를 변경 하 여 실험할 수 있습니다 프로그램 환경입니다.

숫자 및 매개 변수는 복잡성으로 인해이 작업은 매우 복잡할 수 있습니다 하지만 특정 환경에 대 한 에너지 소비와 워크 로드 효율성 간의 최상의 균형을 찾으려는 경우 가치가 수 있습니다.

 PPM 매개 변수를 튜닝할 수 있는 전체 집합에서 찾을 수 있습니다 [프로세서 전원 관리 튜닝](https://msdn.microsoft.com/windows/hardware/gg566941.aspx)합니다. 가장 간단한 power 매개 변수 중 일부 시작할 수 있습니다.

-   **프로세서 성능 증가 임계값 및 프로세서 성능 증가 시간** – 값이 클수록 느린 증가 작업에 대 한 성능 응답

-   **프로세서 성능 저하 임계값** – 큰 값 quicken 유휴 기간에 대 한 전원 응답

-   **프로세서 성능 저하 시간** – 값이 클수록 더 점진적으로 감소 시키는 성능 유휴 기간 동안

-   **프로세서 성능 향상 정책의** – "단일" 정책 느려지는 증가 지속적인 작업에 대 한 성능 응답; "Rocket" 정책 반응에 신속 하 게 향상 된 활동

-   **프로세서 성능 저하 정책의** – "단일" 정책을 더 이상 유휴 시간 동안 성능을 점진적으로 더 감소; "Rocket" 정책을 삭제 power 매우 신속 하 게 유휴 기간을 입력 하는 경우

>[!Important]
> 모든 실험을 시작 하기 전에 올바른 PPM 매개 변수 결정 및 튜닝 작업을 줄일 도움이 되는 워크 로드를 이해 해야 합니다.

### <a name="understand-high-level-performance-and-power-requirements"></a>높은 수준의 성능과 power 요구 사항 이해

워크 로드 "실시간" 이면 (예를 들어, 고장 또는 기타에 취약 표시 최종 사용자에 영향을 줍니다)에 이르러 매우 빡빡한 응답성 요구 사항이 (예를 들어 증권 거래소는) 및 에너지 소비 환경에 대 한 기본 기준 없으면 해야 할 으로 전환할 합니다 **고성능** 전원 계획입니다. 이 고, 그렇지 워크 로드, 응답 시간 요구 사항을 이해 하 고도 이러한 요구 사항을 충족 하는 최상의 가능한 전원 효율성 PPM 매개 변수를 조정 해야 합니다.

### <a name="understand-underlying-workload-characteristics"></a>기본 워크 로드 특성을 이해

워크 로드 인지 알고 있어야 하 고 튜닝 하는 것에 대 한 실험 매개 변수 집합을 디자인 해야 합니다. 예를 들어 CPU 코어의 빈도 매우 과정인 수 해야 하는 경우 (유휴 상태 유효 기간을 사용 하 여 버스 티 작업 경우가 있습니다 하지만 새 트랜잭션을 함께 하는 경우 매우 빠른 응답성이 필요할) 빠르고-다음 프로세서 성능 향상 정책 (여기서 이름에서 알 수 있듯이 시간 동안의 단계별로 실행 하는 대신 해당 최 댓 값에는 CPU 코어 빈도 발사) "rocket"으로 설정 해야 합니다.

워크 로드가 매우 버스 티 경우 단계별 실행 더 빨리 버스트 도착 한 후 시작 CPU 주파수 있도록 PPM 확인 간격을 줄일 수 있습니다. 또한 잠재적으로 향상 시킬 수 있는 코어 수가 적은에서 실행할 작업을 적용할 코어 파킹을 사용할 수 있습니다 다음 워크 로드가 높은 스레드 동시성 없는 경우 프로세서 캐시 적중 비율입니다.

보통 사용률 수준 (예: 부하가 없습니다 수준)에서 CPU 주파수를 증가 하 고 싶으면 프로세서 성능 증가/감소 임계값 특정 수준의 작업 확인 될 때까지 반응 하지를 조정할 수 있습니다.

### <a name="understand-periodic-behaviors"></a>정기적인 동작 이해

다양 한 성능 요구 사항 주간 및 야간 또는 주말에 있거나 서로 다른 시간에 실행 되는 다양 한 워크 로드 있을 수 있습니다. 이 경우 하나의 PPM 매개 변수 집합이 적합 하지 않을 모든 기간에 대 한 합니다. 여러 사용자 지정 전원 계획을 작성할 수 있습니다, 이므로 다른 기간에 대 한 조정 하 고 스크립트나 다른 방법을 동적 시스템 구성을 통해 전원 계획을 전환할 수 있습니다.

마찬가지로 중요 한 하드웨어 업그레이드 또는 워크 로드 변경 시 반복 해야 할 수는 얼마나 많은 값을 튜닝 하 고,이 형식에서 얻을 수의 질문 이므로 최적화 프로세스의 복잡성에 추가 합니다.

이것이 Windows 제공 하는 이유는 **균형 조정** 전원 관리 처음에 없기 때문에 대부분의 경우에서 아마도 특정 서버의 특정 워크 로드에 대 한 수동 조정의 가치가 있습니다.

## <a name="see-also"></a>관련 항목
- [서버 하드웨어에 대 한 성능 고려 사항](../index.md)
- [서버 하드웨어에 대한 전원 고려 사항](../power.md)
- [전원 및 성능 튜닝](power-performance-tuning.md)
- [프로세서 전원 관리 튜닝](processor-power-management-tuning.md)
- [분산 전원 계획에 추천되는 매개 변수](recommended-balanced-plan-parameters.md)
