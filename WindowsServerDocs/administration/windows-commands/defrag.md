---
title: defrag
description: '에 대 한 Windows 명령을 항목 * * *- '
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: aaf1d1ac-996a-4282-9b4d-1e8245ff162c
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 6b5f6231273fb9fe9a99a1cd1bf72dbd0bad71af
ms.sourcegitcommit: eaf071249b6eb6b1a758b38579a2d87710abfb54
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 05/31/2019
ms.locfileid: "66433916"
---
# <a name="defrag"></a>defrag

>적용 대상: Windows 10, Windows Server (반기 채널), Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

찾아 시스템 성능 향상을 위해 로컬 볼륨의 조각화 된 파일을 통합 합니다.
로컬의 멤버 자격이 **관리자** 그룹 또는 그에 해당 하는이 명령을 실행 하는 데 필요한 최소입니다.

## <a name="syntax"></a>구문
```
defrag <volumes> | /C | /E <volumes>    [/H] [/M [n]| [/U] [/V]]
defrag <volumes> | /C | /E <volumes> /A [/H] [/M [n]| [/U] [/V]]
defrag <volumes> | /C | /E <volumes> /X [/H] [/M [n]| [/U] [/V]]
defrag <volume> [/<Parameter>]*
```
## <a name="parameters"></a>매개 변수

|매개 변수|설명|
|-------|--------|
|`<volume>`|분석 하거나 조각 모음을 볼륨의 드라이브 문자 또는 탑재 지점 경로 지정 합니다.|
|변수를 잠그기 위한|지정 된 볼륨에 분석을 수행 합니다.|
|C|모든 볼륨에 대 한 작업을 수행 합니다.|
|d|(기본값은)는 일반적인 조각 모음을 수행 합니다. 그러나 계층화 된 볼륨에서 일반적인 조각 모음 용량 계층 에서만 수행 됩니다.|
|E|지정 된 항목을 제외한 모든 볼륨에 대 한 작업을 수행 합니다.|
|G|지정된 된 볼륨에 저장소 계층 최적화 합니다.|
|H|보통 우선 순위로 작업 실행 (기본값은 낮은).|
|N I|계층 최적화는 각 볼륨에서 최대 n 초 동안 실행 됩니다.|
|K|지정된 된 볼륨에서 조각 모음을 수행 합니다.|
|L|지정된 된 볼륨에 retrim를 수행 합니다.|
|M [n]|각 볼륨에 대 한 작업을 백그라운드에서 병렬로 실행 합니다. 최대 n 개의 스레드를 병렬로 저장소 계층 최적화합니다.|
|O|각 미디어 형식에 대 한 적절 한 최적화를 수행 합니다.|
|T|지정된 된 볼륨에 이미 진행 중인 작업을 추적 합니다.|
|U|화면에서 작업의 진행률을 인쇄 합니다.|
|V|조각화 통계를 포함 하는 자세한 정보 출력을 인쇄 합니다.|
|X|지정 된 볼륨에 여유 공간이 통합을 수행 합니다.|
|?|이 도움말 정보를 표시합니다.|

## <a name="remarks"></a>설명
- 특정 유형의 파일 시스템 볼륨 또는 드라이브 조각 모음을 실행할 수 없습니다.
  -   파일 시스템에서 잠 궜 습니다. 볼륨 조각 모음을 실행할 수 없습니다.
  -   손상 될 있다고 표시 된 파일 시스템 볼륨에 조각 모음 수 없습니다. 실행 해야 **chkdsk** 더티 볼륨 전에 조각 모음 할 수 있습니다. 사용 하 여 볼륨 변경 되었는지 확인할 수는 **fsutil** 변경 된 쿼리 명령입니다. 에 대 한 자세한 내용은 **chkdsk** 하 고 **fsutil** 변경 된 내용은 [추가 참조](defrag.md#BKMK_additionalRef)합니다.
  -   네트워크 드라이브 조각 모음을 실행할 수 없습니다.
  -   CdROMs 조각 모음 수 없습니다.
  -   되지 않는 파일 시스템 볼륨을 조각 모음 없습니다 **NTFS**, **ReFS**를 **Fat** 하거나 **Fat32**합니다.
- Windows server 2008 R2, Windows Server 2008 및 Windows Vista 볼륨 조각 모음을 예약할 수 있습니다. 그러나 한 견고한 상태 드라이브 (SSD) 또는 볼륨에 가상 하드 디스크 (VHD) SSD에 있는 조각 모음을 예약할 수 없습니다.
- 이 절차를 수행하려면 로컬 컴퓨터에서 Administrators 그룹의 구성원이거나 적절한 권한을 위임받아야 합니다. 컴퓨터가 도메인에 참가하면 Domain Admins 그룹의 구성원이 이 절차를 수행할 수도 있습니다. 보안 모범 사례를 사용 하는 것이 좋습니다 **실행** 이 절차를 수행 하려면.
- 볼륨에 여유 공간이 15% 이상이 있어야 합니다. **조각 모음** 완전히 또는 적절히 조각 모음을 수행 합니다. **조각 모음** 파일 조각에 대 한 정렬 영역으로이 공간을 사용 합니다. 볼륨에 사용 가능한 공간을 15% 보다 작은 경우 **조각 모음** 는 부분적 으로만 조각 모음을 실행 합니다. 볼륨에 여유 공간을 늘리려면 불필요 한 파일을 삭제 하거나 다른 디스크로 이동 합니다.
- 반면 **조각 모음** 는 깜박이 커서가 분석 하 고 볼륨 조각 모음을 표시 합니다. 때 **조각 모음** 완성 되어 분석 볼륨의 조각 모음, 분석 보고서, 조각 모음 보고서 또는 두 보고서를 표시 하 고 다음 명령 프롬프트를 종료 합니다.
- 기본적으로 **조각 모음** 지정 하지 않은 경우에 분석 및 조각 모음 보고서의 요약을 표시는 **/a** 또는 **/v** 매개 변수입니다.
- 입력 하 여 텍스트 파일에는 보고서를 보낼 수 **>** <em>FileName.txt</em>, 여기서 *FileName.txt* 파일 이름을 지정 됩니다. 예: `defrag volume /v > FileName.txt`
- 명령줄에서 조각 모음 프로세스를 중단 하려면 **CTRL + C**합니다.
- 실행 합니다 **조각 모음** 명령 및 디스크 조각 모음은 함께 사용할 수 없습니다. 경우 디스크 조각 모음을 사용 하는 볼륨 조각 모음 하 고 실행 하는 **조각 모음** 명령줄에서 명령을 합니다 **조각 모음** 명령이 실패 합니다. 반대로, 실행 하는 경우는 **조각 모음** 를 조각 모음 옵션 디스크 조각 모음을 사용할 수 없는 명령 및 디스크 조각 모음을 엽니다.

## <a name="BKMK_examples"></a>예제
진행률 및 자세한 정보 출력을 제공 하는 동안 C 드라이브의 볼륨을 조각 모음을 입력 합니다.
```
defrag C: /U /V
```
백그라운드에서 동시에 C와 D 드라이브의 볼륨을 조각 모음을 수행 하려면 다음을 입력 합니다.
```
defrag C: D: /M
```
C 드라이브에 탑재 된 볼륨의 조각화 분석을 수행 하 고 진행률을 제공 하려면 다음을 입력 합니다.
```
defrag C: mountpoint /A /U
```
보통 우선 순위로 모든 볼륨을 조각 모음을 자세한 정보 출력을 제공 하려면 다음을 입력 합니다.
```
defrag /C /H /V
```

## <a name="BKMK_scheduledTask"></a>예약 된 작업
조각 모음 유지 관리 태스크로 작업 실행을 예약의 하 고 일반적으로 매주 실행 되도록 예약 됩니다. 관리자를 사용 하 여 빈도 변경할 수 있습니다 **드라이브 최적화** 응용 프로그램입니다.
- 예약된 된 작업에서 실행 될 경우 **조각 모음** Ssd에 아래 정책을:
   - **조각 모음 번체** (즉, 비교적 연속 있도록 파일을 이동) 및 **retrim** 매월 한 번만 실행 됩니다.
   - 둘 다 **기존의 조각 모음** 하 고 **retrim** 생략 됩니다 **analysis** 실행 되지 않습니다.
      - 사용자가 실행 한 경우 **기존의 조각 모음** 수동으로 SSD에 예를 들어 3 주 동안 마지막으로 예약 된 작업 실행 후 실행한 다음 예약 된 태스크가 수행 하는 **분석** 하 고 **retrim** 있지만 건너뛸 **일반적인 조각 모음** 해당 SSD에서.
   - 하는 경우 **분석** 를 건너 뛰 합니다 **마지막으로 실행** 시간 **드라이브 최적화** 업데이트 되지 것입니다.  Ssd에 따라서 합니다 **마지막으로 실행** 시간 **드라이브 최적화** 이전 달 수 있습니다.
- 이 작업은 다음을 수행 하기 때문에이 유지 관리 작업 모든 볼륨을 때때로 defrag 하지 수 없습니다.:
   - 조각 모음을 실행 하려면 컴퓨터의 절전 모드 하지 않습니다.
   - 컴퓨터가 AC 전원 고 컴퓨터가 배터리 전원으로 전환 하는 경우 중지 하는 경우에 시작 됩니다.
   - 컴퓨터가 유휴 상태로 중단 되 면 중지 됩니다.

## <a name="BKMK_additionalRef"></a>추가 참조
-   [chkdsk](chkdsk.md)
-   [fsutil](fsutil.md)
-   [fsutil dirty](fsutil-dirty.md)
-   [명령줄 구문 키](command-line-syntax-key.md)
