---
title: 이벤트를 사용 하 여 사용자 프로필 문제 해결
description: 이벤트 및 추적 로그를 사용 하 여 사용자 프로필을 로드 하 고 언로드하는 문제를 해결 하는 방법입니다.
ms.prod: windows-server
ms.topic: article
author: JasonGerend
ms.author: jgerend
ms.technology: storage
ms.date: 04/05/2018
ms.localizationpriority: medium
ms.openlocfilehash: 9e927a77627e786015a928d798aafee13a2cc34b
ms.sourcegitcommit: 6aff3d88ff22ea141a6ea6572a5ad8dd6321f199
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 09/27/2019
ms.locfileid: "71394383"
---
# <a name="troubleshoot-user-profiles-with-events"></a>이벤트를 사용 하 여 사용자 프로필 문제 해결

>적용 대상: Windows 10, Windows 8, Windows 8.1, Windows Server 2019, Windows Server 2016, Windows Server 2012 R2, Windows Server 2012 및 Windows Server (반기 채널).

이 항목에서는 이벤트 및 추적 로그를 사용 하 여 사용자 프로필을 로드 하 고 언로드하는 문제를 해결 하는 방법을 설명 합니다. 다음 섹션에서는 사용자 프로필 정보를 기록 하는 세 개의 이벤트 로그를 사용 하는 방법을 설명 합니다.

## <a name="step-1-checking-events-in-the-application-log"></a>1 단계: 응용 프로그램 로그에서 이벤트 확인

사용자 프로필 로드 및 언로드 (로밍 사용자 프로필 포함)와 관련 된 문제를 해결 하는 첫 번째 단계는 이벤트 뷰어를 사용 하 여 사용자 프로필 서비스가 응용 프로그램 로그에 기록 하는 경고 및 오류 이벤트를 검사 하는 것입니다.

응용 프로그램 로그에서 사용자 프로필 서비스 이벤트를 보는 방법은 다음과 같습니다.

1. 이벤트 뷰어를 시작 합니다. 이렇게 하려면 **제어판**을 열고 **시스템 및 보안**을 선택한 다음 **관리 도구** 섹션에서 **이벤트 로그 보기**를 선택 합니다. 이벤트 뷰어 창이 열립니다.
2. 콘솔 트리에서 먼저 **Windows 로그**, **응용 프로그램**으로 이동 합니다.
3. 작업 창에서 **현재 로그 필터링**을 선택 합니다. 현재 로그 필터링 대화 상자가 열립니다.
4. **이벤트 원본** 상자에서 **사용자 프로필 서비스** 확인란을 선택한 다음 **확인**을 선택 합니다.
5. 오류 이벤트에 특히 주의 하 여 이벤트의 목록을 검토 합니다.
6. 주목할 만한 이벤트를 찾았으면 이벤트 로그 온라인 도움말 링크를 선택 하 여 추가 정보 및 문제 해결 절차를 표시 합니다.
7. 추가 문제 해결을 수행 하려면 주목할 만한 이벤트의 날짜와 시간을 확인 한 다음 2 단계에서 설명한 대로 작업 로그를 검토 하 여 사용자 프로필 서비스가 오류 또는 경고 이벤트 발생 시 수행 된 작업에 대 한 세부 정보를 확인 합니다.

>[!NOTE]
>사용자 프로필 서비스 이벤트 1530 "Windows에서 아직 다른 응용 프로그램 또는 서비스에서 레지스트리 파일을 사용 하 고 있음을 검색 했습니다."를 무시 해도 됩니다.

## <a name="step-2-view-the-operational-log-for-the-user-profile-service"></a>2 단계: 사용자 프로필 서비스에 대 한 작업 로그 보기

응용 프로그램 로그를 사용 하 여 문제를 해결할 수 없는 경우 다음 절차를 사용 하 여 작업 로그에서 사용자 프로필 서비스 이벤트를 확인 합니다. 이 로그는 서비스의 내부 작업 중 일부를 표시 하며, 프로필 로드 또는 언로드 프로세스에서 문제가 발생 하는 위치를 파악 하는 데 도움이 될 수 있습니다.

Windows 응용 프로그램 로그와 사용자 프로필 서비스 작업 로그는 모두 모든 Windows 설치에서 기본적으로 사용 하도록 설정 됩니다.

사용자 프로필 서비스에 대 한 작업 로그를 보는 방법은 다음과 같습니다.

1. 이벤트 뷰어 콘솔 트리에서 **응용 프로그램 및 서비스 로그**, **Microsoft**, **Windows**, **사용자 프로필 서비스**로 차례로 이동한 다음 **작업**을 클릭 합니다.
2. 응용 프로그램 로그에 기록 된 오류 또는 경고 이벤트와 관련 하 여 발생 한 이벤트를 검사 합니다.

## <a name="step-3-enable-and-view-analytic-and-debug-logs"></a>3 단계: 분석 및 디버그 로그 사용 및 보기

작업 로그에서 제공 하는 것 보다 자세한 정보가 필요한 경우 영향을 받는 컴퓨터에서 분석 및 디버그 로그를 사용 하도록 설정할 수 있습니다. 이 로깅 수준은 훨씬 더 자세히 설명 하며 문제 해결을 시도할 때를 제외 하 고는 사용 하지 않도록 설정 해야 합니다.

분석 및 디버그 로그를 사용 하도록 설정 하 고 보는 방법은 다음과 같습니다.

1. 이벤트 뷰어의 **작업** 창에서 **보기**를 선택한 다음 **분석 및 디버그 로그 표시**를 선택 합니다.
2. **응용 프로그램 및 서비스 로그**, **Microsoft**, **Windows**, **사용자 프로필 서비스**, **진단**으로 차례로 이동 합니다.
3. **로그 사용** 을 선택 하 고 **예**를 선택 합니다. 이렇게 하면 로깅을 시작 하는 진단 로그를 사용할 수 있습니다.
4. 훨씬 더 자세한 정보를 요구 하는 경우 추적 로그를 만드는 방법에 대 한 자세한 내용은 [4 단계: 추적 만들기 및 디코딩](#step-4-creating-and-decoding-a-trace) 을 참조 하세요.
5. 문제 해결을 마쳤으면 **진단** 로그로 이동 하 여 **로그 사용 안 함**을 선택 하 고 **보기** 를 선택한 다음 **분석 및 디버그 로그 표시** 확인란의 선택을 취소 하 여 분석 및 디버그 로깅을 숨깁니다.

## <a name="step-4-creating-and-decoding-a-trace"></a>4 단계: 추적 만들기 및 디코딩

이벤트를 사용 하 여 문제를 해결할 수 없는 경우 문제를 재현할 때 추적 로그 (ETL 파일)를 만든 다음 Microsoft 기호 서버에서 공용 기호를 사용 하 여이 로그를 디코딩할 수 있습니다. 추적 로그는 사용자 프로필 서비스가 수행 하는 작업에 대 한 매우 구체적인 정보를 제공 하 고 오류가 발생 한 위치를 파악 하는 데 도움이 됩니다.

ETL 추적을 사용할 때 가장 좋은 전략은 가장 작은 로그를 먼저 캡처하는 것입니다. 로그가 디코딩되 면 로그에서 오류를 검색 합니다.

사용자 프로필 서비스에 대 한 추적을 만들고 디코딩하는 방법은 다음과 같습니다.

1. 로컬 관리자 그룹의 구성원 인 계정을 사용 하 여 사용자에 게 문제가 발생 한 컴퓨터에 로그온 합니다.
2. 관리자 권한 명령 프롬프트에서 다음 명령을 입력 합니다. *\<여기서 경로\>* 는 이전에 만든 로컬 폴더의 경로 (예: C:\\logs)입니다.
        
    ```PowerShell
    logman create trace -n RUP -o <Path>\RUP.etl -ets
    logman update RUP -p {eb7428f5-ab1f-4322-a4cc-1f1a9b2c5e98} 0x7FFFFFFF 0x7 -ets
    ```
3. 시작 화면에서 사용자 이름을 선택 하 고 **계정 전환**을 선택 하 여 관리자에 게 로그 오프 하지 않도록 주의 합니다. 원격 데스크톱을 사용 하는 경우 관리자 세션을 닫아 사용자 세션을 설정 합니다.
4. 문제를 재현 합니다. 문제를 재현 하는 절차는 일반적으로 문제가 발생 한 사용자로 로그인 하거나, 사용자를 로그 오프 하거나, 둘 모두에 게 로그인 하는 것입니다.
5. 문제를 재현 한 후 로컬 관리자 권한으로 다시 로그인 합니다.
6. 관리자 권한 명령 프롬프트에서 다음 명령을 실행 하 여 ETL 파일에 로그를 저장 합니다.
  
    ```PowerShell
    logman stop -n RUP -ets
    ```
7. 다음 명령을 입력 하 여 ETL 파일을 현재 디렉터리 (홈 폴더 또는% WINDIR%\\System32 폴더)의 사람이 읽을 수 있는 파일로 내보냅니다.
    
    ```PowerShell
    Tracerpt <path>\RUP.etl
    ```
8. **요약 .txt** 파일 및 **덤프 파일** 파일을 엽니다 .이 파일은 Microsoft Excel에서 열어 로그의 전체 세부 정보를 더 쉽게 볼 수 있습니다. **실패** 또는 **실패**를 포함 하는 이벤트를 찾습니다. **알 수 없는** 이벤트 이름을 포함 하는 줄을 안전 하 게 무시할 수 있습니다.

## <a name="more-information"></a>자세한 정보

* [로밍 사용자 프로필 배포](deploy-roaming-user-profiles.md)