---
title: 네트워크 파일 시스템 배포
description: 네트워크 파일 시스템을 배포 하는 방법에 설명 합니다.
ms.prod: windows-server-threshold
ms.topic: article
author: JasonGerend
ms.author: jgerend
ms.technology: storage
ms.date: 07/09/2018
ms.localizationpriority: medium
ms.openlocfilehash: 2f3671283720d515cd3e3e609d98e02343c15892
ms.sourcegitcommit: fcc26ec5a2cc73b59c5752377b39c070d288655e
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 12/19/2018
ms.locfileid: "8976689"
---
# 네트워크 파일 시스템 배포

>적용 대상: Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

시스템 NFS (네트워크 파일) 파일 공유 Windows Server 및 NFS 프로토콜을 사용 하 여 UNIX 운영 체제를 실행 하는 컴퓨터 간에 파일을 전송할 수 있는 솔루션을 제공 합니다. 이 항목에서는 NFS 배포를 수행 해야 하는 단계를 설명 합니다.

## 네트워크 파일 시스템의 새로운 기능

다음은 Windows Server 2012에서 NFS 용 변경 된 내용입니다.

- **NFS 4.1 버전에 대 한 지원**합니다. 이 프로토콜 버전 다음과 같은 기능을 포함합니다.
  - 방화벽을 탐색 하는 것 보다 쉽게 접근성을 향상 합니다.
  - 더 강력한 보안을 제공 하 고 클라이언트와 서버 보안 협상을 허용 하는 RPCSEC\_GSS 프로토콜을 지원 합니다.
  - Windows 및 UNIX 파일 의미 체계를 지원합니다.
  - 클러스터 된 파일 서버 배포 활용합니다.
  - WAN 친화적인 복합 절차를 지원합니다.

- **Windows PowerShell 용 NFS 모듈**입니다. 기본 제공 NFS cmdlet의 가용성 쉽게 다양 한 작업을 자동화할 수 있습니다. 다른 Windows PowerShell cmdlet ("가져오기" 및 "설정"와 같은 동사를 사용 하 여), 쉽게 사용자에 대 한 새 cmdlet을 사용 하 여 자세한 Windows PowerShell을 사용 하 여 친숙 한과 일치 하는 cmdlet 이름은 있습니다.
- **NFS 관리 개선**합니다. 새 UI를 기반으로 하는 중앙 집중식된 관리 콘솔의 SMB 및 NFS 공유, 할당량, 파일 차단 및 클러스터 된 파일 서버를 관리 하는 것 외에도 분류 구성 및 관리를 간소화 합니다.
- **식별자 매핑 개선**합니다. 새 UI 지원 및 관리자가 identity 매핑 소스를 신속 하 게 구성 하 고 사용자에 대 한 개별 매핑된 id를 만들려면 다음을 확인 매핑을 구성 하기 위한 Windows PowerShell cmdlet 작업 기반으로 합니다. 향상 된 기능 NFS 및 SMB 다중 프로토콜 액세스에 대 한 공유를 설정 하려면 관리자가 쉽게 합니다.
- **클러스터 리소스 모델 재구성**합니다. 이 개선 Windows NFS 용 클러스터 리소스 모델 및 SMB 프로토콜 서버 간에 일관성 및 관리를 간소화 합니다. 많은 공유 NFS 서버에 대 한 리소스 네트워크 및 필요한 WMI 호출 수가 장애 조치 볼륨 포함 하는 많은 nfs 감소 됩니다.
- **다시 시작 키 Manager와 통합**합니다. 다시 시작 키 관리자 하는 구성 파일 서버와 파일 시스템 상태를 추적 하 고 Windows SMB 및 NFS 프로토콜 서버 클라이언트 또는 서버 응용 프로그램 파일 서버에서 해당 데이터를 저장을 방해 하지 않고 장애 조치를 수 있습니다. 이 향상 기능은 Windows Server 2012를 실행 하는 파일 서버의 지속적인 가용성 접근 권한 값의 핵심 구성 요소입니다.

## 네트워크 파일 시스템을 사용 하기 위한 시나리오

NFS 혼합된 된 환경의 Windows 기반 및 UNIX 기반 운영 체제를 지원합니다. 다음과 같은 배포 시나리오가 NFS를 사용 하 여 지속적으로 사용 가능한 Windows Server 2012 파일 서버를 배포 하는 방법의 예입니다.

### 다른 유형의 환경에서 프로 비전 파일 공유

이 시나리오의 Windows 및 UNIX 또는 Linux 기반 클라이언트와 같은 다른 운영 체제 구성 된 조직에 적용할 컴퓨터. 이 시나리오를 사용 하 여 SMB와 NFS 프로토콜을 통해 다중 프로토콜 동일한 파일 공유에 대 한 액세스를 제공할 수 있습니다. 일반적으로이 시나리오에서는 Windows 파일 서버를 배포할 때 Windows에서 사용자 및 UNIX 기반 컴퓨터 간에 공동 작업을 지원 하려는 합니다. 파일 공유를 구성한 경우 SMB 프로토콜을 통해 자신의 파일에 액세스 하는 Windows 사용자와 공유 된 SMB와 NFS 프로토콜 및 UNIX 기반 컴퓨터에서 사용자가 일반적으로 NFS 프로토콜을 통해 자신의 파일에 액세스 합니다.

이 시나리오에 대 한 올바른 id 매핑 소스 구성이 있어야 합니다. Windows Server 2012 다음 id 매핑 저장소를 지원합니다.

- 매핑 파일
- AD DS(Active Directory 도메인 서비스)
- Active Directory Lightweight Directory Services (AD LDS)와 같은 RFC 2307 규격 LDAP 저장
- 사용자 이름 매핑 (UNM) 서버

### UNIX 기반 환경에서 프로 비전 파일 공유

이 시나리오에서는 Windows 파일 서버 UNIX 기반 클라이언트 컴퓨터에 대 한 NFS 파일 공유에 대 한 액세스를 제공 하는 주로 UNIX 기반 환경에서 배포 됩니다. 매핑되지 않은 UNIX 사용자 액세스 (UUUA) 옵션 계정 매핑 Windows 서버 UNIX Windows 만들지 않고 NFS 데이터를 저장 하는 데 사용할 수 있도록 Windows Server 2008 r 2에서 NFS 공유에 대 한 구현 처음 되었습니다. UUUA 관리자를 신속 하 게 프로 비전 하 고 NFS 계정 매핑 구성할 필요 없이 배포할 수 있습니다. NFS 용 사용 하면 UUUA 사용자 지정 Sid (보안 식별자)를 나타내는 매핑되지 않은 사용자를 만듭니다. 매핑된 사용자 계정을 표준 Windows Sid (보안 식별자)를 사용 하 고 매핑되지 않은 사용자가 사용자 지정 NFS Sid를 사용 합니다.

## 시스템 요구 사항

NFS 용 서버는 Windows Server 2012의 모든 버전에 설치할 수 있습니다. NFS UNIX 기반 실행 중인 컴퓨터 NFS 서버 또는 클라이언트 NFS 이러한 NFS 서버와 클라이언트 구현은 준수 하는 경우 다음 프로토콜 사양 중 하나를 사용 하 여 사용할 수 있습니다.

1. NFS 버전 4.1 프로토콜 규정 (RFC [5661](https://tools.ietf.org/html/rfc5661)에서 정의 됨)
2. NFS 버전 3 프로토콜 규정 (RFC [1813](https://tools.ietf.org/html/rfc1813)에서 정의 됨)
3. NFS 버전 2 프로토콜 규정 (RFC [1094](https://tools.ietf.org/html/rfc1094)에서 정의 됨)

## NFS 인프라 배포

다음 컴퓨터를 배포 하 고 로컬 영역 네트워크 (LAN)에 연결 해야 합니다.

- NFS 구성 요소에 대 한 두 가지 주요 서비스를 설치 하는 Windows Server 2012를 실행 하는 하나 이상의 컴퓨터: NFS 용 서버 및 NFS 용 클라이언트입니다. 동일한 컴퓨터에서 또는 다른 컴퓨터에서 이러한 구성 요소를 설치할 수 있습니다.
- 하나 이상의 UNIX 기반 실행 중인 컴퓨터 NFS 서버 및 NFS 클라이언트 소프트웨어. NFS 파일 공유 또는 NFS 용 클라이언트를 사용 하는 클라이언트와 Windows Server 2012를 실행 하는 컴퓨터에서 액세스할 수 있는 내보내기 NFS 서버를 실행 하는 UNIX 기반 컴퓨터를 호스팅합니다. NFS 서버 및 클라이언트 소프트웨어 동일한 UNIX 기반 컴퓨터에서 또는 원하는 대로 UNIX 기반 서로 다른 컴퓨터에 설치할 수 있습니다.
- Windows Server 2008 R2 기능 수준에서 실행 되는 도메인 컨트롤러입니다. 도메인 컨트롤러는 사용자 인증 정보 및 Windows 환경에 대 한 매핑을 제공합니다.
- 도메인 컨트롤러를 배포 되지 않은 경우 UNIX 환경에 대 한 사용자 인증 정보를 제공 하는 정보 NIS (네트워크 서비스) 서버를 사용할 수 있습니다. 또는 원하는 경우, 사용자 이름 매핑 서비스를 실행 하는 컴퓨터에 저장 된 암호 및 그룹 파일을 사용할 수 있습니다.

### 네트워크 파일 시스템 서버 관리자를 사용 하 여 서버에 설치

1. 추가 역할 및 기능 마법사에서 서버 역할에서 이미 설치 되지 않은 경우 **파일 및 저장소 서비스를** 선택 합니다.
2. 아래 **파일 및 iSCSI 서비스**, **파일 서버** 및 **NFS 용 서버**를 선택 합니다. 선택한 NFS 기능을 포함 하도록 **추가 기능** 선택 합니다.
3. 서버에서 NFS 구성 요소를 설치 하려면 **설치** 를 선택 합니다.

### Windows PowerShell을 사용 하 여 서버에 네트워크 파일 시스템 설치

1. Windows PowerShell을 시작 합니다. PowerShell, 작업 표시줄에 아이콘을 마우스 오른쪽 단추로 클릭 하 고 **관리자 권한으로 실행**을 선택 합니다.
2. 다음 Windows PowerShell 명령을 실행 합니다.

```PowerShell
Import-Module ServerManager
Add-WindowsFeature FS-NFS-Service
Import-Module NFS
```

## NFS 인증 구성

NFS 버전 4.1 및 NFS 버전 3.0 프로토콜을 사용 하는 경우 다음 인증 및 보안 옵션 해야 합니다.

- RPCSEC\_GSS
  - **Krb5**합니다. Kerberos 버전 5 프로토콜을 사용 하 여 파일 공유에 대 한 액세스 권한을 부여 하기 전에 사용자를 인증 하도록 합니다.
  - **Krb5i**합니다. Kerberos 버전 5 프로토콜을 사용 하 여 무결성 검사 (체크섬)를 사용 하 여 인증 하는 데이터 변경 되지 않았음을 확인 합니다.
  - **Krb5p** NFS 트래픽을 개인 정보 보호에 대 한 암호화를 사용 하 여 인증 하는 Kerberos 버전 5 프로토콜을 사용 합니다.
- AUTH\_SYS

매핑되지 않은 사용자 액세스를 사용 하도록 설정 하는 옵션이 서버 인증 (AUTH\_SYS)를 사용 하 여 하지 선택할 수 있습니다. 매핑되지 않은 사용자 액세스를 사용 하 여 UID 매핑되지 않은 사용자 액세스를 허용 하도록 지정할 수 있습니다 / GID는 기본적으로 또는 익명 액세스를 허용 합니다.

NFS 인증에서 구성에 대 한 지침은 다음 섹션에서 설명 합니다.

## NFS 파일 공유 만들기

서버 관리자 또는 Windows PowerShell NFS cmdlet을 사용 하는 NFS 파일 공유를 만들 수 있습니다.

### 서버 관리자를 사용 하 여 NFS 파일 공유 만들기

1. 로컬 관리자 그룹의 구성원으로 서버에 로그온 합니다.
2. 서버 관리자는 자동으로 시작 됩니다. 자동으로 시작 되지 않으면 **시작**선택, **servermanager.exe**를 입력 하 고 **서버 관리자**를 선택 합니다.
3. 왼쪽에 **파일 및 저장소 서비스를**선택 하 고 **공유**를 선택 합니다.
4. **파일 공유를 만들려면 새로운 공유 마법사를 시작**을 선택 합니다.
5. **선택 프로필** 페이지에서 **NFS 공유 – 빠른** 또는 **고급-NFS 공유**를 선택한 **다음**을 선택 합니다.
6. **공유 위치** 페이지에서 서버 및 볼륨을 선택 하 고 **** 을 선택 합니다.
7. **공유 이름** 페이지에서 새 공유에 대 한 이름을 지정 하 고 **** 을 선택 합니다.
8. **인증** 페이지에서이 공유에 대 한 사용 하려는 인증 방법을 지정 합니다.
9. **공유 사용 권한** 페이지에서 **추가**선택 하 고 호스트, 클라이언트 그룹 또는 공유에 권한을 부여 하려는 netgroup를 지정 합니다.
10. **사용 권한**사용자에 게, 원하는 액세스 제어 유형을 구성 하 고 **확인**을 선택 합니다.
11. **확인** 페이지에서 구성을 검토 하 고 NFS 파일 공유를 만드는 **만들기** 선택 합니다.

### 해당 하는 Windows PowerShell 명령

다음 Windows PowerShell cmdlet NFS 파일 공유를 만들 수도 있습니다 (여기서 `nfs1` 공유의 이름 및 `C:\\shares\\nfsfolder` 파일 경로입니다).

```PowerShell
New-NfsShare -name nfs1 -Path C:\shares\nfsfolder
```

### 알려진 문제
NFS 버전 4.1 되도록 파일 이름을 사용 하면 생성 되거나 잘못 된 문자를 사용 하 여 복사 합니다. Vi 편집기를 사용 하 여 파일을 열려고 하는 경우 손상 된 것으로 표시 됩니다. Vi에서 파일을 저장 이름 변경 하거나 이동 권한을 변경할 수 없습니다. Illigal 문자를 사용 하지 마세요.
