---
title: 성능 조정 네트워크 어댑터
description: 이 항목은 Windows Server 2016 용 네트워크 하위 시스템 성능 조정 가이드의 일부입니다.
ms.prod: windows-server-threshold
ms.technology: networking
ms.topic: article
ms.assetid: 0b9b0f80-415c-4f5e-8377-c09b51d9c5dd
manager: brianlic
ms.author: pashort
author: shortpatti
ms.openlocfilehash: 1c6d36966ce6e2d407b6568e16946745256ee69b
ms.sourcegitcommit: 19d9da87d87c9eefbca7a3443d2b1df486b0b010
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/28/2018
---
# <a name="performance-tuning-network-adapters"></a>성능 조정 네트워크 어댑터

>적용 대상: Windows Server (세미콜론 연간 채널) Windows Server 2016

이 항목 Windows Server 2016을 실행 하는 컴퓨터에 설치 되어 있는 성능 조정 네트워크 어댑터를 사용할 수 있습니다.

다음 변수에 따라 달라 네트워크 어댑터에 대 한 올바른 조정 설정을 확인 하는 다음과 같습니다.

- 네트워크 어댑터와 해당 기능 설정  

- 서버에서 수행한 작업 유형  

- 서버 하드웨어 및 소프트웨어 리소스  

- 서버에 대 한 성능 목표  

네트워크 어댑터 조정 옵션을 제공 하는 경우 네트워크 처리량 및 리소스 사용량 최적의 처리량 매개 위의 설명에 따라 달성 하기 위해 최적화할 수 있습니다.  

다음 섹션 일부 사용자 성능 조정 옵션에 설명 합니다.  

##  <a name="bkmk_offload"></a>오프 로드 기능을 활성화

네트워크 어댑터 오프 로드 기능을 켜면 일반적으로 유용 합니다. 그러나 경우에 따라 네트워크 어댑터가 빠르다 높은 처리량 오프 로드 기능을 처리 하지 않습니다.

>[!IMPORTANT]
>오프 로드 기능을 사용 하지 마십시오 **IPsec 작업 오프** 또는 **TCP 정의 오프**합니다. 이러한 기술을 Windows Server 2016에 사용 되지 않으며 서버와 네트워킹 성능이 저하 될 수 있습니다. 또한 이러한 기술은 수 지원 되지 Microsoft에서 나중에 있습니다.

예를 들어, 활성화 분할 오프 로드 하드웨어 리소스가 제한으로 인해 최대 지속적인 처리량 일부 네트워크 어댑터를 줄일 수 있습니다. 그러나 감소 처리량 제한 될 수 없습니다, 이러한 종류의 네트워크 어댑터에 대해서도 오프 로드 기능을 사용 해야 합니다.

>[!NOTE]
> 일부 네트워크 어댑터 수 보내기 하도록 독립적으로 설정 되어 있고 경로 수신 하려면 오프 로드 기능이 필요 합니다.

##  <a name="bkmk_rss_web"></a>RSS 웹 서버에 대 한 크기 측면 수신 사용

RSS 논리 프로세서 서버에 보다 더 적은 네트워크 어댑터는 경우 웹 확장성 및 성능을 향상할 수 있습니다. 다른 연결의 들어오는 웹 요청이 모든 웹 교통 RSS 가능 네트워크 어댑터 통과 하 고이 때 동시에 다른 Cpu에서 처리 수 있습니다.

RSS 및 하이퍼텍스트 전송 논리 때문에 유의 해야 \(HTTP\) 부하 분산에 대 한 프로토콜, RSS을 사용할 수 없는 네트워크 어댑터를 수락 웹 교통 네트워크 어댑터가 있는 하나 이상의 RSS 가능 서버에 성능이 저하 시스템이 심각 하 게 수 있습니다. 이 경우 가능 RSS 네트워크 어댑터를 사용 하 여 또는 네트워크 어댑터 속성에서 RSS 사용 하지 않도록 설정 해야 **고급 속성** 탭 합니다. 네트워크 어댑터는 RSS 수 있는지 여부를 확인 하려면에 네트워크 어댑터 속성 RSS 정보를 볼 수 **고급 속성** 탭 합니다.

### <a name="rss-profiles-and-rss-queues"></a>RSS 프로필 및 RSS 큐

누 마 정적, 이전 버전의 운영 체제의 기본 동작을 변경 하는 기본 RSS 미리 정의 된 프로필이입니다. RSS 프로필을 시작 하기에 도움이 되 면 네트워크 환경 및 하드웨어에 적용 되는 방식 및 이해 하는 사용할 수 있는 프로필을 검토할 수 있습니다.

예를 들어 작업 관리자를 열고 서버에 논리 프로세서를 검토 하 고 수신 교통량 작업량이 같, 경우 네트워크 어댑터에서 지원 되는 최대 2 기본에서 RSS 큐 수가 증가 시도할 수 있습니다. 네트워크 어댑터 드라이버의 일환으로 RSS 큐 수 변경 하는 옵션 있을 수 있습니다.

##  <a name="bkmk_resources"></a>네트워크 어댑터 리소스 증가

수동으로 구성 리소스를 허용와 같은 보내고 받는 버퍼가 하는 네트워크 어댑터에 대 한 리소스를 할당된 증가 합니다. 

일부 네트워크 어댑터의 받기 버퍼가 낮게 설정 메모리 절약 할당을 호스트. 낮은 값 손실된 패킷 및 성능이 저하 됩니다. 따라서 받기 많이 시나리오 받기 버퍼가 값을 최대 늘리는 것이 좋습니다.

>[!NOTE]
>네트워크 어댑터 수동 리소스 구성, 노출 하지 하거나 동적으로 구성 리소스를 또는 리소스 변경할 수 없는 고정된 값으로 설정 됩니다.

### <a name="enabling-interrupt-moderation"></a>인터럽트 활성화

인터럽트를 제어 하려면 일부 네트워크 어댑터 다른 인터럽트 조정 수준 노출, 결합 매개 버퍼링 (때때로 대해 별도로 보내고 받는 버퍼가), 또는 둘 다.

더 많은 인터럽트 때문 및 대기 덜 호스트 CPU 절약 및 증가 호스트 CPU 절약 모양과 대기 간에 절충을 고려해 사항과 인터럽트 cpu 작업에 대 한 고려해 야 합니다. 네트워크 어댑터는 인터럽트를 수행 하지 했지만 결합, 증가 버퍼가 표시 하는 경우 결합 된 버퍼가 수 보내기 당 버퍼가 수 있게 받거나, 성능이 향상 됩니다.

##  <a name="bkmk_low"></a>성능 대기 시간이 짧은 패킷 처리 하기 위해 조정

많은 네트워크 어댑터 운영 체제 일으킨 대기 시간을 최적화 하는 옵션을 제공 합니다. 대기 시간 경과 시간 들어오는 패킷이 처리 하는 네트워크 드라이버 다시 보내는 네트워크 드라이버와입니다. 이 이번 밀리초에서 측정 일반적으로 됩니다. 비교, 멀리 떨어진 패킷 전송에 전송 시간은 일반적으로 단위로 시간 (밀리초) \ (배 larger\). 이 조정 패킷을 전송에 사용 시간을 줄일 하지 않습니다.

다음은 몇 가지 성능 마이크로초 민감한 네트워크에 대 한 추천을 조정 합니다.

- 컴퓨터의 BIOS 설정 **높은 성능을**와 C 상태 사용할 수 없습니다. 그러나 시스템 및 BIOS 종속, 이것은 및 운영 체제 컨트롤 전원 관리 하는 경우 시스템에 따라 더 높은 성능을 제공 합니다 note 합니다. 확인 하 고에서 전원 관리 설정을 조정 **설정** 하거나 사용 하 여는 **powercfg** 명령을 합니다. 자세한 내용은 참조 [Powercfg 명령줄 옵션](https://technet.microsoft.com/library/cc748940.aspx)

- 운영 체제 전원 관리 프로필 설정 **높은 성능을 시스템**합니다. Note는이 제대로 작동 하지 않습니다 시스템 BIOS 설정 된 경우에 전원 관리 제어 운영 체제를 사용 하지 않도록 설정 합니다.

- 예를 들어, UDP 검사 값, TCP 검사 및 큰 오프 전송 (LSO) 정적 오프 로드을 사용 하도록 설정 합니다.

- RSS 교통량 다중 스트림 대량 멀티 캐스트 수신와 같은 사용할 수 있습니다.

-   사용 하지 않도록 설정의 **중단 조정** 가능한 지연이 가장 해야 하는 네트워크 카드 드라이버에 대 한 설정 합니다. 이 CPU 더 많은 시간을 사용할 수 있으며 절충을 나타내는 기억 합니다.

- 네트워크 어댑터 인터럽트 Dpc CPU 캐시 패킷의 처리 하는 프로그램 (사용자 스레드)에서 사용 되는 핵심와 공유 코어 프로세서에서 처리 됩니다. 이를 위해 구성 RSS와 함께에서 논리 특정 프로세서 하는 프로세스를 안내 하 CPU 선호도 조정 사용할 수 있습니다. 동일한 core를 사용 하 여 인터럽트, DPC, 및 사용자 모드 대화 목록에 대 한 핵심의 사용 하기 위해 ISR, DPC, 및 스레드 경쟁 하기 때문에 로드 증가 함에 따라 성능을 저하 보여줍니다.

##  <a name="bkmk_smi"></a>시스템 관리 인터럽트가

유지 관리 기능을 오류 수정 코드 \(ECC\) 메모리 오류 보고 등의 다양 한에 대 한 시스템 관리 중단 \(SMI\)를 사용 하는 많은 하드웨어 시스템, 레거시 USB 호환성, 팬 컨트롤 및 BIOS 제어 전원 관리 합니다. 

SMI 시스템에 높은 우선 순위 인터럽트 이며 CPU 일반적으로 BIOS에 포함 된 인터럽트 서비스 루틴 실행 되는 동안 다른 모든 작업을 중지 하는 관리 모드에 배치 합니다.

그러나이 100 마이크로초 대기 스파이크 이상에 발생할 수 있습니다. 

지연이 가장 달성 하기 위해 필요한 경우 최저 정도까지 가능한 SMIs 감소 하드웨어 공급자에 게 서 BIOS 버전을 요청 해야 합니다. 이 자주 라고 "대기 시간이 짧은 BIOS" 또는 "SMI 무료 BIOS." 경우에 따라 불가능 SMI 활동을 모두 제거 하는 하드웨어 플랫폼에 대 한 하므로 필수 기능 (예: 냉각 팬)를 제어 하는 데 사용 됩니다.

>[!NOTE]
>운영 체제 논리 프로세서 운영 체제 간섭이 되지 않도록 특별 한 유지 관리 모드에서 실행 되 고 있으므로 SMIs 제어할 수 없거나 강력 수 있습니다.

##  <a name="bkmk_tcp"></a>성능 TCP 조정

 성능 조정 다음과 같은 항목을 사용 하는 TCP 할 수 있습니다.

###  <a name="bkmk_tcp_params"></a>TCP 수신 창이 자동 조정

Windows Server 2008 하기 전에 제한 된 연결을 위한 전체적인 잠재적인 처리량 고정 크기 수신 측면 창을 (65, 535 바이트) 사용 하는 네트워크 스택 합니다. TCP는 TCP 스택에 가장 중요 한 변경 내용 중 하나 수신 창을 자동 조정 합니다. 

TCP 창을 수신 고정된 크기를 사용 하는 경우의 단일 연결 전체 처리량을 계산 수 있습니다.

**바이트에서 총 달성 처리량 TCP = 바이트에서 수신 창 크기 \ * (1 월 초에서 연결 대기)**

예를 들어, 전체 달성 처리량이만 10 ms 대기 시간이 연결 m b 51 p s \ (큰 회사 네트워크 infrastructure\에 대 한 적절 한 값). 

그러나 자동 조정 받기 측 창을 조정할 수 되며 보낸 사람의 요구에 맞게 자랄 수 있습니다. 줄 간격 속도 1 g b p s 연결에 대 한 연결에 대 한 것 같습니다. 이제 수 있는에서 제한 된 과거 TCP 연결의 전체 달성 처리량 하 여 네트워크 사용 시나리오 네트워크를 완벽 하 게 사용할 수 있습니다.

#### <a name="deprecated-tcp-parameters"></a>사용 하지 않는 TCP 매개

Windows Server 2003 다음 레지스트리 설정이 더 이상 지원 되지 않으며 이후 버전에서 무시 됩니다.

이러한 설정을 모두 다음 레지스트리 위치를 했습니다.

    ```  
    HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\Tcpip\Parameters  
    ```  

- TcpWindowSize

- NumTcbTablePartitions  

- MaxHashTableSize  



###  <a name="bkmk_wfp"></a>Windows 플랫폼 필터링

필터링 WFP Windows 플랫폼 () Windows Server 2008 및 Windows Vista에서 도입 된 Api 필터를 만드는 패킷 처리 독립 비 Microsoft 소프트웨어 공급 업체 (Isv)에 제공 합니다. 예를 들면 방화벽 및 바이러스 백신 소프트웨어입니다.

>[!NOTE]
>제대로 작성된 WFP 필터 서버의 네트워킹 성능이 저하 크게 수 있습니다. 자세한 내용은 참조 [포팅 패킷 처리 드라이버, 앱, WFP](https://msdn.microsoft.com/windows/hardware/gg463267.aspx) Windows 개발자 센터에서 합니다.


이 가이드의 모든 항목에 대 한 링크를 참조 하세요. [네트워크 하위 시스템 성능 조정](net-sub-performance-top.md)합니다.
