---
title: AD FS 문제 해결-인증서
description: 이 문서에서는 일반적인 인증서 문제를 설명 합니다.
author: billmath
ms.author: billmath
manager: mtillman
ms.date: 02/21/2017
ms.topic: article
ms.prod: windows-server-threshold
ms.technology: identity-adfs
ms.openlocfilehash: 42fdce936bb4a6f25b456c4a96c7b99f650e6033
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/17/2019
ms.locfileid: "59860584"
---
# <a name="ad-fs-troubleshooting---certificates"></a>AD FS 문제 해결-인증서
AD FS는 올바르게 작동 하려면 다음 인증서가 필요 합니다.  설치 하지 않았거나 제대로 구성 된 이러한 문제가 발생할 수 있습니다.  

## <a name="required-certificates"></a>필요한 인증서
AD FS에는 다음 인증서를 필요합니다.



- **페더레이션 트러스트** -이렇게 하려면 인증서는 상호 신뢰할 수 있는 인터넷 루트 인증 기관 (CA)에 연결 된 클레임 공급자와 신뢰 당사자 페더레이션 서버를 신뢰할 수 있는 루트 저장소에 있는지를 양쪽 해당 파트너와 교환 하는 루트 CA에 또는 자체 서명 된 적절 한 양쪽에서 가져온 인증서는 상호 인증 디자인 구현 되었습니다.
- **토큰 서명** – 각 페더레이션 서비스 컴퓨터에는 토큰 서명 인증서가 필요 합니다.  클레임 공급자의 토큰 서명 인증서는 신뢰 당사자 페더레이션 서버에 의해 신뢰 되어야 합니다. RP 페더레이션 서버에서 토큰을 수신 하는 모든 응용 프로그램에서 신뢰 당사자 토큰 서명 인증서를 신뢰 되어야 합니다.
- **Secure Sockets Layer (SSL)** – 페더레이션 서비스에 대 한 SSL 인증서는 페더레이션 서버 프록시 컴퓨터의 신뢰할 수 있는 저장소에 있어야 하며 신뢰할 수 있는 CA (인증 기관) 저장소에 유효한 체인이 있습니다.
- **인증서 해지 목록 (CRL)** – CRL이 있는 모든 인증서에 대해 게시 된 CRL에 액세스할 수 있어야 모든 클라이언트와 서버 인증서에 액세스 해야 하는 합니다.

위 올바르게 구성 되지 않은, 경우에 AD FS가 작동 하지 않습니다.

## <a name="common-things-to-check-with-certificates"></a>인증서를 사용 하 여 확인할 일반적 내용
다음은 발생할 수 있습니다 하는 인증서 문제를 해결 하려고 할 때를 확인할 사항의 목록입니다.

- 신뢰할 수 있는 인증서 인지 확인
    - SSL 인증서를 클라이언트에서 신뢰 해야 합니다.
    - 토큰 서명 인증서를 신뢰 당사자를 신뢰 해야 합니다.
- 신뢰 체인-유효한 체인 요구 사항에서 모든 인증서를 확인 합니다.
- 인증서 만료 날짜를 확인 합니다.
- 인증서 해지 목록 (CRL) 내게 필요한 옵션 확인
    - CDP 필드가 채워지는지 확인
    - CDP를 수동으로 찾습니다
- 인증서가 해지 되지 있는지 확인

## <a name="common-certificate-errors"></a>일반적인 인증서 오류
다음 표는 일반적인 오류 및 가능한 원인의 목록입니다.

|이벤트|원인|해결 방법
|-----|-----|-----|
|이벤트 249-인증서 저장소에 인증서를 찾을 수 없습니다. 인증서 롤오버 시나리오에서는이 발생할 수 있습니다 오류가 페더레이션 서비스 서명 되었거나이 인증서를 사용 하 여 암호를 해독 하는 경우.|해당 인증서가 로컬 인증서 저장소에 없으면 또는 서비스 계정에 게 인증서의 개인 키를 권한이 있습니다.|인증서 설치 되어 있는지 확인 LocalMAchine\My 저장소 AD FS 서버에 있습니다. AD FS 서비스 계정에 인증서의 개인 키에 대 한 읽기 액세스를 확인 합니다.|
|이벤트 315-인증서를 서명 하는 클레임 공급자 트러스트에 대 한 인증서 체인을 구축 하는 동안 오류가 발생 했습니다.|인증서가 해지 되었습니다.</br></br>인증서 체인을 확인할 수 없습니다.</br></br>인증서가 만료 또는 아직 유효 하지 않습니다.|인증서 유효 하 고 취소 되지 않았는지 확인 합니다.</br></br>CRL에 액세스할 수 있는지 확인 합니다.|
|이벤트 316-서명 인증서 신뢰 당사자 트러스트에 대 한 인증서 체인을 구축 하는 동안 오류가 발생 했습니다.|인증서가 해지 되었습니다.</br></br>인증서 체인을 확인할 수 없습니다.</br></br>인증서가 만료 또는 아직 유효 하지 않습니다.|인증서 유효 하 고 취소 되지 않았는지 확인 합니다.</br></br>CRL에 액세스할 수 있는지 확인 합니다.|
|이벤트 317-신뢰 당사자 트러스트 암호화 인증서에 대 한 인증서 체인을 구축 하는 동안 오류가 발생 했습니다.|인증서가 해지 되었습니다.</br></br>인증서 체인을 확인할 수 없습니다.</br></br>인증서가 만료 또는 아직 유효 하지 않습니다.|인증서 유효 하 고 취소 되지 않았는지 확인 합니다.</br></br>CRL에 액세스할 수 있는지 확인 합니다.|
|클라이언트 인증서에 대 한 인증서 체인에 빌드된 중인 이벤트 319-오류가 발생 했습니다.|인증서가 해지 되었습니다.</br></br>인증서 체인을 확인할 수 없습니다.</br></br>인증서가 만료 또는 아직 유효 하지 않습니다.|인증서 유효 하 고 취소 되지 않았는지 확인 합니다.</br></br>CRL에 액세스할 수 있는지 확인 합니다.|
|이벤트 360-요청 인증서 전송 끝점을 했지만 요청 클라이언트 인증서를 포함 하지 않았습니다.|루트 클라이언트 인증서를 발급 한 CA를 신뢰 하지 않습니다.</br></br>클라이언트 인증서가 만료 됩니다.</br></br>클라이언트 인증서가 자체 서명 되며 신뢰할 수 없습니다.|루트 CA를 클라이언트 인증서를 발급 한 신뢰할 수 있는 루트 저장소에 있는지 확인 합니다.</br></br>클라이언트 인증서가 만료 되지 않았는지 확인 합니다.</br></br>클라이언트 인증서가 자체 서명 된 경우 신뢰할 수 있는 인증서 목록에 추가 된 것을 확인 또는 자체 서명 된 인증서를 신뢰할 수 있는 인증서로 바꾸십시오.|
|이벤트 374-암호화 인증서 신뢰 클레임 공급자에 대 한 인증서 체인을 빌드하는 동안 오류가 발생 했습니다.|인증서가 해지 되었습니다.</br></br>인증서 체인을 확인할 수 없습니다.</br></br>인증서가 만료 또는 아직 유효 하지 않습니다.|인증서 유효 하 고 취소 되지 않았는지 확인 합니다.</br></br>CRL에 액세스할 수 있는지 확인 합니다.|
|이벤트 381-구성 인증서에 대 한 인증서 체인을 구축 하는 동안 오류가 발생 했습니다.|AD FS 서버에서 사용 하도록 구성 된 인증서 중 하나는 만료 되었거나 해지 되었습니다.|모든 구성 된 인증서 해지 되지 않고 만료 되지 않았는지 확인 합니다.|
|이벤트부터 385-AD FS는 AD FS 구성 데이터베이스에 하나 이상의 인증서를 수동으로 업데이트 해야 한다고 검색 합니다.|AD FS 서버에서 사용 하도록 구성 된 인증서 중 하나는 만료 되었거나 만료 날짜에 거의 도달 했습니다.|대체를 사용 하 여 만료 되었거나 곧-에-만료 될 인증서를 업데이트 합니다. (자체 서명 된 인증서를 사용 하는 자동 인증서 롤오버 사용 하도록 설정 하는 경우이 오류가 무시 될 수 있습니다으로 자동으로 해결 됩니다.)|
|이벤트가 387-AD FS 페더레이션 서비스에 지정 된 인증서 중 하나 이상이 된 AD FS Windows 서비스에서 사용 되는 서비스 계정에 액세스할 수 있는 검색 합니다.|AD FS 서비스 계정에는 하나 이상의 구성 된 인증서의 개인 키에 대 한 읽기 권한이 없습니다.|AD FS 서비스 계정에 읽기 모든 구성 된 인증서의 개인 키에 권한이 있는지 확인 합니다.|
|이벤트가 389-AD FS 감지는 하나 이상의 트러스트에 있거나, 만료 됨, 곧 만료 됩니다. 수동으로 업데이트 해야 해당 인증서가 필요 합니다.|중 구성 된 파트너의 인증서가 만료 되었거나가 만료 되려고 합니다. 이 클레임 공급자 트러스트 또는 신뢰 당사자 트러스트를 적용할 수 있습니다.|이 트러스트를 수동으로 만든 경우 수동으로 인증서 구성을 업데이트 합니다. 페더레이션 메타 데이터를 사용 하는 트러스트를 만들 경우 인증서는 파트너 인증서를 업데이트 하는 즉시 자동으로 업데이트 됩니다.|




## <a name="next-steps"></a>다음 단계

- [AD FS 문제 해결](ad-fs-tshoot-overview.md)
 