---
ms.assetid: 606df285-259c-4c6b-8583-9aca1d614c43
title: "한 통과 사용 하는 경우 또는 필터 클레임 규칙"
description: 
author: billmath
ms.author: billmath
manager: femila
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server-threshold
ms.technology: identity-adfs
ms.openlocfilehash: aa205c46bf67dc25a55232b799bdd39fee4ac3c6
ms.sourcegitcommit: 70c1b6cedad55b9c7d2068c9aa4891c6c533ee4c
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/03/2017
---
>적용 대상: Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

# <a name="when-to-use-a-pass-through-or-filter-claim-rule"></a>한 통과 사용 하는 경우 또는 필터 클레임 규칙
이 규칙 들어오는 클레임에 값에 따라 다음 어떤 출력 수행할지를 결정 하는 작업을 적용 하는 특정 수신 클레임 유형 수행 해야 할 때 \(AD FS\) Active Directory Federation Services에서 사용할 수 있습니다. 이 규칙을 사용 하면 통과 또는 규칙에서 구성 옵션 중 하나에 따라 다음 표에서 규칙 논리 일치 하는 모든 클레임을 필터링 합니다.  
  
|규칙 옵션|규칙 논리|  
|---------------|--------------|  
|모든 통과 값 주장|수신 클레임 유형 같으면 *클레임 유형 지정 된* 같음 값 및 *값*, 그런 다음을 통해 클레임|  
|특정 주장 값만 통과합니다|수신 클레임 유형 같으면 *클레임 유형 지정 된* 같음 값 및 *클레임 값 지정 된*, 그런 다음을 통해 클레임|  
|특정 e\ 메일 접미사 값 일치 하는 유일한 클레임 값 통과합니다|수신 클레임 유형 같으면 *클레임 유형 지정 된* 및 같음 값을 *접미사 값 지정 된*, 그런 다음을 통해 클레임|  
|클레임은 값 값을 시작 하는 통과합니다|수신 클레임 유형 같으면 *클레임 유형 지정 된* 값으로 시작 하 고 *클레임 값 지정 된*, 그런 다음을 통해 클레임|  
  
다음 섹션에서는 소개 규칙와이 규칙을 사용 하는 경우에 대 한 추가 세부 정보를 제공 합니다.  
  
## <a name="about-claim-rules"></a>클레임은 규칙에 대 한  
클레임은 규칙 비즈니스 논리를 수신 클레임, 조건이 적용 됩니다 인스턴스를 나타냅니다 \ (경우 다음 y\ x) 조건에 따라 보내는 클레임은 생성 하 고 있습니다. 다음 목록에 대해 알아야 하는 팁 더 읽기 전에 규칙 주장 중요 한 개요가이 항목에서:  
  
-   Snap\에서 광고 FS 관리에 클레임 규칙 만들 수만 클레임 규칙 템플릿을 사용 하 여  
  
-   클레임 규칙 프로세스 들어오는 주장 클레임 공급자에서 직접 \ (Active Directory Federation Service\ 다른 등) 또는 수용 출력에서 변형 클레임 공급자 보안에 대 한 규칙 합니다.  
  
-   클레임은 규칙 해당된 규칙 설정 내에서 시간 순서로 클레임 발급 엔진에서 처리 됩니다. 규칙의 우선 순위를 설정 하 여 조정 해가면서 하거나 이전 규칙 해당된 규칙 설정 내에서 생성 되는 클레임 필터링 더 있습니다.  
  
-   청구 규칙 템플릿 항상 해야 하는 수신 클레임 종류를 지정할 수 있습니다. 그러나 규칙 하나를 사용 하 여 동일한 클레임 종류 여러 클레임 값을 처리할 수 있습니다.  
  
자세한 청구 규칙 및 청구 규칙 집합에 대 한 정보를 참조 [주장 규칙의 역할은](The-Role-of-Claim-Rules.md)합니다. 규칙은 처리 하는 방법에 대 한 자세한 내용은 참조 [클레임 엔진 The 역할](The-Role-of-the-Claims-Engine.md)합니다. 자세한 내용은 클레임 규칙 집합 처리 하는 방법을 참조 하세요. [클레임 파이프라인 The 역할](The-Role-of-the-Claims-Pipeline.md)합니다.  
  
## <a name="pass-through-all-claim-values"></a>모든 통과 값 주장  
이 작업을 사용할 때 지정 된 청구 형식에 대 한 모든 들어오는 클레임 값 보내는 클레임 전달 됩니다. 예를 들어, 받는 클레임 종류를 역할 클레임 유형으로 지정 모든 들어오는 클레임 값에 복사 됩니다 개별적으로 새 보내는 클레임 역할 보내는 클레임 유형의.  
  
## <a name="filtering-a-claim"></a>클레임은 필터링  
ADFS, 기간에에서 *필터링 주장* 필터링 하거나 제한 수신 하는 수단 특정 값은 전달 하거나 보내는 클레임으로를 통해 전송 있도록 값을 청구 합니다. **통과 또는 필터 수신 클레임** 이 기능을 가능 하 게 규칙 서식 합니다. 이 규칙은 내 들어오는 값 지정된 조건을 충족 값을 통해 전달 되도록 필터링 하는 조건 설정할 수 있습니다.  
  
예를 들어이 규칙 들어오는 일치 하는 사용자의 이름에 대 한 청구만 실행 역할의 클레임 유형 것이 좋습니다 주장 하는 경우 청구 값 구매자와 일치 하는 클레임 하지만 사용자의 사회 보안 번호가 포함 된 청구 하지 통과 사용할 수 있습니다.  
  
필터 조건을이 규칙을 사용 하 여 모든 들어오는 클레임 어떤 클레임 일치 규칙 설정한 기준 확인 하려면 검사 합니다. 기타 선택한 클레임 유형과 일치 하는 지정 된 청구 값만는 통과할 수 있도록 무시 됩니다.  
  
예를 들어 다음과 같이 UPN 하는 키가 있는 들어오는 클레임을 필터링 하는 조건으로 규칙 설정 된 경우 클레임 유형 및도 함께 종료 @fabrikam.com, 다른 모든 들어오는 클레임이이 조건을 충족 하지 않는 한 무시 됩니다. 클레임은 값 끝나는 경우에 들어오는 클레임 클레임 유형의 E\ 메일 주소를 포함 @fabrikam.com합니다. 이 경우에 값을 포함 하는 클레임 Nick@fabrikam.com 당사자로 전송 됩니다.  
  
![암호를 사용 하는 경우를 통해](media/adfs2_filter.gif)  
  
## <a name="configuring-this-rule-on-a-claims-provider-trust"></a>이 규칙 클레임 공급자 신뢰에서 구성  
이 규칙만 수신을 통해 전달 되도록 구성할 수 있습니다 클레임 공급자 신뢰를 사용 하면 특정 제한와 일치 하는 클레임 공급자 로부터 청구 합니다. 예를 들어, 하려는 경우; 클레임 공급자의 메일 e\ 클레임 허용 따라서 클레임 공급자 Domain Name System \(DNS\) 이름으로 끝나는 메일 e\ 클레임 종류 적용 하려면이 규칙 템플릿을 사용 합니다.  
  
## <a name="configuring-this-rule-on-a-relying-party-trust"></a>이 규칙 신뢰 파티 신뢰에서 구성  
신뢰 파티 신뢰를 사용 하면이 규칙 통과 또는 당사자에 보낼 수 있는 보내는 클레임 필터링를 구성할 수 있습니다. 일부 신뢰 당사자 특정 클레임 유형을 이해 하지 못하는 또는 특정 클레임 신뢰 특정 당사자에 보낼 수 있는 중요 한 정보가 포함 될 수 있습니다. 이 규칙 템플릿을 특정 신뢰 파티 보안에 대 한 이러한 정책을 적용을 도움이 될 수 있습니다.  
  
## <a name="how-to-create-this-rule"></a>이 규칙 만드는 방법  
중 하나를 사용 하 여이 규칙 클레임 규칙 언어 또는 통해 전달를 사용 하 여 만들거나 규칙 들어오는 주장 템플릿 snap\에서 광고 FS 관리에서를 필터링 합니다. 이 규칙 템플릿을 다음과 같은 구성 옵션을 제공합니다.  
  
-   클레임은 규칙 이름을 지정합니다  
  
-   지정 수신 클레임 유형  
  
-   모든 통과 값 주장  
  
-   특정 주장 값만 통과합니다  
  
-   특정 e\ 메일 접미사 값 일치 하는 유일한 클레임 값 통과합니다  
  
-   클레임은 값 값을 시작 하는 통과합니다  
  
이 서식 만드는 방법에 추가 지침을 참조 [통과 하는 규칙 만들거나 수신 클레임 필터링](https://technet.microsoft.com/library/dd807060.aspx) AD FS 배포 가이드에 있습니다.  
  
## <a name="using-the-claim-rule-language"></a>클레임은 규칙 언어를 사용 하 여  
클레임 클레임 값 사용자 지정 패턴와 일치 하는 경우에를 보낼 사용자 지정 규칙을 사용 해야 합니다. 자세한 내용은 사용 규칙을 사용자 지정 하는 경우 참조 합니다.  
  
### <a name="examples-of-how-to-construct-a-pass-through-or-filter-rule-syntax"></a>작성 한 통과 하는 방법을 또는 필터 규칙 구문 몇 가지  
위에서 설명한 대로 속성 중 하나에 따라 클레임 간단한 필터링 규칙 필터링 합니다. 예를 들어, 다음 규칙 모든 e\ 메일 클레임을 통해 전달 됩니다.  
  
```  
c:[type == “http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress”]  => issue(claim  = c);  
```  
  
필터 수 논리적 드 AND\ 함께 합니다. 예를 들어 다음 규칙 값으로 모든 e\ 메일 클레임 수락johndoe@fabrikam.com:  
  
```  
c:[type == “http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress”, value == “johndoe@fabrikam.com “]  => issue(claim  = c);  
```  
  
위 예에서 필터 같음 통신사 항상 사용 합니다. 클레임은 규칙 언어 다음 연산자를 지원합니다.  
  
-   \ = \ = \-\(case\-sensitive\)와 같습니다.  
  
-   \! \ = \-\(case\-sensitive\) 같지  
  
-   \ = ~ \-일반 식 일치  
  
-   \! ~ \-일반 식 non\ 일치  
  
예를 들어 다음 규칙 모든 e\ 메일 클레임 하지 로컬 federation 서버에서 발급 한 boeing.com 접미사 있는 수락할:  
  
```  
c:[type == “http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress”, value =~ “^.*@boeing\.com$” , issuer != “LOCAL AUTHORITY”]  => issue(claim  = c);  
```  
  
### <a name="best-practices-for-creating-custom-rules"></a>사용자 지정 규칙을 만들기 위한 모범 사례  
다음 표에서에 설명 된 대로 필터 속성 각 클레임 중 하나 이상의에 적용할 수 있습니다.  
  
|속성 주장|설명|  
|------------------|---------------|  
|입력|클레임 유형 \ (일반적으로 Uri\로 표시 됨) 청구에 전달는 어떤 종류의 정보에 대 한 연합 파트너 간의 계약 암묵적인 반영 합니다. 예를 들어, 청구 유형 http:///\/schemas.xmlsoap.org\/ws\/2005\/05\/identity\/claims\/emailaddress의 사용자의 e\ 메일 주소를 포함 됩니다.|  
|값|클레임 값 합니다. 타이핑 http:///\/schemas.xmlsoap.org\/ws\/2005\/05\/identity\/claims\/emailaddress 클레임 값을 할 수 예를 들어,johndoe@fabrikam.com|  
|값|값 클레임에 가치에 포함 된 정보 해석 하는 방법을 나타냅니다. 클레임 값 인코딩된 Base64Binary 데이터가 포함 될 수 있지만 값 http:///\/ www.w3.org \/2001\/XMLSchema\#string으로 설정 됩니다 일반적으로 \ (예를 들어 image\) 또는 날짜, 부울 및 등 합니다.|  
|발행인이|마지막 청구는 사용자에 대해 발급 한 파티를 발행인이 나타냅니다. 클레임은 모든 클레임 발행인이 클레임 공급자 federation 서버에서 가져온 경우 되려고 "로컬 권한"로 설정 합니다. 클레임 Federation 공급자 federation 서버 하 여 수신 된 클레임 발행인이 되려고 토큰 서명 클레임 공급자의 청구 공급자 식별자를 설정 합니다. 따라서 클레임 공급자 로부터 받은 클레임에 규칙을 처리 하는 경우 모든 클레임 발행인이 수행 되려고 같은 값으로 설정 해야 합니다. 규칙을 당사자에 대 한을 만들 때 발행인이 속성 다른 클레임 공급자에서 발생 한 클레임 구분 하기 위해 사용할 수 있습니다.|  
|OriginalIssuer|이 클레임 속성은 federation 서버 클레임에 게시 된 전달 하기 위한 것입니다. 원래 발행인이 둘 이상의 federation 서버를 통해 클레임 흐릅니다가 있는 경우에 유용 클레임 발행인이 속성 토큰 서명 federation 서버 마지막 설정 되기 때문에 \ (예를 들어, 당사자 토큰 연합 공급자 federation 서버에서 수신 하는 수도 관심 있는 특정 공급자 federation 서버 인증는 user\ 클레임)|  
|속성|각 청구에도 위에서 설명한 대로 5 속성 뿐만 아니라 속성 모음 명명된 속성 저장 될 수 있습니다. 이러한 속성 연속적 토큰에이 지 않습니다 및 구성 요소 단일 federation 서버 범위 내에서 발급 클레임 파이프라인 간에 정보를 전달할 의미가 합니다. 예를 들어, 속성을 설정 클레임 중 공급자 규칙 신뢰 파티 규칙의 참조 하를 처리 합니다.|  
  

