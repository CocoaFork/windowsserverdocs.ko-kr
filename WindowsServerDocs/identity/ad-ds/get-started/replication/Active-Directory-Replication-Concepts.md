---
ms.assetid: 4cc9c16c-1928-4dce-a3a8-6229be28eb65
title: Active Directory 복제 개념
description: ''
author: MicrosoftGuyJFlo
ms.author: joflore
manager: mtillman
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server-threshold
ms.technology: identity-adds
ms.openlocfilehash: 087dee7c914b81d97c6cf3a2ea985d809cb57fe6
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/17/2019
ms.locfileid: "59812354"
---
# <a name="active-directory-replication-concepts"></a>Active Directory 복제 개념

>적용 대상: Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

사이트 토폴로지를 디자인 하기 전에 일부 Active Directory 복제 개념을 잘 알고 됩니다.  
  
-   [연결 개체](#BKMK_1)  
  
-   [KCC](#BKMK_2)  
  
-   [장애 조치 기능](#BKMK_3)  
  
-   [서브넷](#BKMK_4)  
  
-   [Site](#BKMK_5)  
  
-   [사이트 링크](#BKMK_6)  
  
-   [사이트 링크 브리지](#BKMK_7)  
  
-   [사이트 링크 추이 성](#BKMK_8)  
  
-   [글로벌 카탈로그 서버](#BKMK_9)  
  
-   [유니버설 그룹 구성원 자격 캐싱](#BKMK_10)  
  
## <a name="BKMK_1"></a>연결 개체  
연결 개체는 대상 도메인 컨트롤러에는 원본 도메인 컨트롤러에서 복제 연결을 나타내는 Active Directory 개체. 도메인 컨트롤러의 단일 사이트 구성원이 며 사이트에서 Active Directory 도메인 서비스 (AD DS)의 서버 개체로 표시 됩니다. 각 서버 개체에 자식 사이트에서 복제 도메인 컨트롤러를 나타내는 NTDS 설정 개체입니다.  
  
연결 개체는 대상 서버의 NTDS 설정 개체의 자식입니다. 복제가 두 도메인 컨트롤러 간에 발생 하는 경우에 대 한 다른 로부터의 인바운드 복제를 나타내는 연결 개체를 하나의 서버 개체에 있어야 합니다. 도메인 컨트롤러에 대 한 모든 복제 연결 NTDS 설정 개체 아래에 있는 연결 개체로 저장 됩니다. 연결 개체를 복제 원본 서버를 식별, 복제 일정을 포함 및 복제 전송을 지정 합니다.  
  
지식 일관성 검사기 (KCC) 연결 개체를 자동으로 만듭니다 되지만 수동으로 만들 수도 수 있습니다. KCC에서 생성 된 연결 개체는 Active Directory 사이트에 표시 되며 서비스 스냅인으로 **<automatically generated>** 정상적인 작업 조건 적절 한 것으로 간주 됩니다. 관리자가 만든 연결 개체는 연결 개체 수동으로 만들어집니다. 수동으로 만든된 연결 개체를 만들 때 관리자가 할당 된 이름으로 식별 됩니다. 수정 하는 경우는 **<automatically generated>** 연결 개체를 관리 목적으로 수정 된 연결 개체를 변환 하 고 개체 GUID 형태로 나타납니다. Kcc가 수동 또는 수정 된 연결 개체를 변경 하지 않습니다.  
  
## <a name="BKMK_2"></a>KCC  
Kcc가 모든 도메인 컨트롤러에서 실행 되 고 Active Directory 포리스트에 대 한 복제 토폴로지를 생성 하는 기본 제공 프로세스입니다. Kcc가 복제 (사이트 간) 사이트 간 또는 사이트 (사이트 내) 내에서 발생 하는지 여부에 따라 별도 복제 토폴로지를 만듭니다. Kcc가 새 도메인 컨트롤러, 기존 도메인 컨트롤러를 제거, 비용 및 일정을 변경 하는 사이트에서 도메인 컨트롤러 및 도메인 컨트롤러에 추가 수용 하기 위해 토폴로지를 동적으로 조정 일시적으로 사용할 수 없음 또는 오류 상태에서입니다.  
  
항상 사이트 내에서 쓰기 가능한 도메인 컨트롤러 간의 연결 대규모 사이트 대기 시간을 줄이도록 추가 바로 가기 연결과 양방향 링의 정렬 됩니다. 반면에 사이트 간 토폴로지는 각 디렉터리 파티션에 대 한 두 사이트 간의 존재 하 고 일반적으로 바로 가기 연결 하는 사이트 간 연결 하나를 의미 하는 트리를 확장의 계층입니다. 트리 및 Active Directory 복제 토폴로지를 확장 하는 방법에 대 한 자세한 내용은 Active Directory 복제 토폴로지 기술 참조를 참조 하세요. ([https://go.microsoft.com/fwlink/?LinkID=93578](https://go.microsoft.com/fwlink/?LinkID=93578)).  
  
각 도메인 컨트롤러에서 kcc가 복제 경로 다른 도메인 컨트롤러에서 연결을 정의 하는 단방향 인바운드 연결 개체를 만들어 만듭니다. Kcc가 동일한 사이트에 도메인 컨트롤러에 대 한 관리자의 개입 없이 자동으로 연결 개체를 만듭니다. 둘 이상의 사이트에 있는 경우 사이트 간 사이트 링크를 구성 하 고 각 사이트에 단일 KCC도 사이트 간 연결을 자동으로 만듭니다.  
  
### <a name="kcc-improvements-for-windows-server-2008-rodcs"></a>Windows Server 2008 Rodc의 KCC 향상  

Windows Server 2008에서 새로 사용할 수 있는 읽기 전용 도메인 컨트롤러 (RODC)에 맞게 kcc가 향상 된 기능이 여러 가지가 있습니다. RODC에 대 한 일반적인 배포 시나리오는 지점입니다. 이 시나리오에 가장 일반적으로 배포 된 Active Directory 복제 토폴로지는 허브 및 스포크 디자인을 소수의 허브 사이트 브리지 헤드 서버를 사용 하 여 지점 도메인 컨트롤러는 여러 사이트에 복제 하는 위치를 기반으로 합니다.  
  
이 시나리오에서 RODC를 배포 하는 이점 중 하나는 단방향 복제입니다. 브리지 헤드 서버를 관리 및 네트워크 사용량을 줄일 수는 RODC에서 복제에 필요 하지 않습니다.  
  
그러나 이전 버전의 Windows Server 운영 체제에서 허브-스포크 토폴로지 강조 표시 하는 한 가지 관리 문제는 허브에서 새 브리지 헤드 도메인 컨트롤러를 추가한 후 다시 배포 하는 없는 자동 메커니즘은 합니다 지점 도메인 컨트롤러와 새 허브 도메인 컨트롤러를 활용 하기 위해 허브 도메인 컨트롤러 간의 복제 연결 합니다.  
  
Windows Server 2003 도메인 컨트롤러에 대 한 Windows Server 2003 분기 Office 배포 가이드에서 Adlb.exe와 같은 도구를 사용 하 여 작업을 재조정할 수 있습니다 ([https://go.microsoft.com/fwlink/?LinkID=28523](https://go.microsoft.com/fwlink/?LinkID=28523)).  
  
Windows Server 2008 Rodc에 대해 KCC의 일반적인 기능은 제공 일부 리 밸 러 싱는 않아도 Adlb.exe 같은 추가 도구를 사용 합니다. 새 기능을 기본적으로 사용 됩니다. RODC를 설정 하는 다음 레지스트리 키를 추가 하 여 비활성화할 수 있습니다.  
  
**HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\NTDS\Parameters**  
  
**"허용 되는 임의 BH Loadbalancing"**  
**1 = 사용 (기본값), 0 = 사용 안 함**  
  
KCC 개선이 작동 하는 방법에 대 한 자세한 내용은 계획 및 지점에 대 한 Active Directory Domain Services 배포를 참조 하세요. ([https://go.microsoft.com/fwlink/?LinkId=107114](https://go.microsoft.com/fwlink/?LinkId=107114)).  
  
## <a name="BKMK_3"></a>장애 조치 기능  
사이트는 네트워크 오류 및 오프 라인 도메인 컨트롤러 복제가 라우팅됩니다 확인 합니다. Kcc가 복제 토폴로지를 AD DS에서 발생 하는 변경 내용에 맞게 지정 된 간격으로 실행, 새 도메인 컨트롤러를 추가할 때 같은 및 새 사이트 생성 됩니다. Kcc가 대 한 연결을 작동 하지 않는 경우 확인에 대 한 기존 연결의 복제 상태를 검토 합니다. 실패 한 도메인 컨트롤러 연결을 작동 하지 않는 경우 자동으로 kcc가 다른 복제 파트너에 대 한 임시 연결 (있는 경우) 복제가 수행 되도록 합니다. 사이트에 있는 모든 도메인 컨트롤러를 사용할 수 없는 경우 kcc가 자동으로 다른 사이트에서 도메인 컨트롤러 간의 복제 연결을 만듭니다.  
  
## <a name="BKMK_4"></a>서브넷  
서브넷은 논리적 IP 주소 집합은 할당 된 TCP/IP 네트워크의 세그먼트입니다. 서브넷에 네트워크에서 해당 실제 근접 하 게 식별 하는 방식으로 컴퓨터 그룹입니다. AD DS에서 서브넷 개체 사이트로 컴퓨터를 매핑하는 데 사용 되는 네트워크 주소를 식별 합니다.  
  
## <a name="BKMK_5"></a>사이트  
사이트는 매우 안정적이 고 네트워크 연결을 사용 하 여 하나 이상의 TCP/IP 서브넷 나타내는 Active Directory 개체입니다. 사이트 정보에는 관리자가 Active Directory 액세스 및 실제 네트워크의 사용을 최적화 하는 복제를 구성할 수 있습니다. 사이트 개체 서브넷의 집합과 연결 되며 포리스트의 각 도메인 컨트롤러는 해당 IP 주소에 따라 Active Directory 사이트에 연결 되어 있습니다. 사이트에서 둘 이상의 도메인에서 도메인 컨트롤러를 호스팅할 수 있습니다 및 둘 이상의 사이트에서 도메인을 나타낼 수 있습니다.  
  
## <a name="BKMK_6"></a>사이트 링크  
사이트 링크는 kcc가 Active Directory 복제에 대 한 연결을 설정 하는 데 사용 하는 논리 경로 나타내는 Active Directory 개체입니다. 사이트 링크 개체에는 지정 된 사이트 간 전송을 통해 균일 한 비용으로 통신할 수 있는 사이트의 집합을 나타냅니다.  
  
사이트 링크를 포함 하는 모든 사이트는 동일한 네트워크 종류를 사용 하 여 연결로 간주 됩니다. 하나의 사이트에 도메인 컨트롤러가 다른 사이트에 도메인 컨트롤러에서 디렉터리 변경 내용을 복제할 수 있도록 사이트 링크를 사용 하 여 다른 사이트에 사이트를 수동으로 연결 되어야 합니다. 사이트 링크 복제 하는 동안 실제 네트워크에서 네트워크 패킷이 되는 실제 경로에 맞지 않는, 때문에 Active Directory 복제 효율성을 개선 하기 위해 중복 사이트 링크를 만들 필요가 없습니다.  
  
두 사이트는 사이트 링크로 연결 되는 복제 시스템 브리지 헤드 서버 라고 하는 각 사이트에서 특정 도메인 컨트롤러 간의 연결을 자동으로 만듭니다. Windows Server 2008, 사이트의 동일한 디렉터리 파티션을 호스트 하는 모든 도메인 컨트롤러에 브리지 헤드 서버로 선택 하는 것에 대 한 후보입니다. Kcc가 만든 복제 연결을 복제 작업을 공유 하는 사이트의 모든 후보 브리지 헤드 서버 중에서 임의로 분산 됩니다. 기본적으로 임의 선택 프로세스에서 수행 하는 경우 연결 개체를 먼저 사이트에 추가한 후에 배치 합니다.  
  
## <a name="BKMK_7"></a>사이트 링크 브리지  
사이트 링크 브리지를 Active Directory 사이트 링크의 집합을 나타내는 개체를 해당 사이트의 모든 일반적인 전송을 사용 하 여 통신할 수 있습니다. 사이트 링크 브리지 서로 복제에 대 한 통신 링크를 사용 하 여 직접 연결 되지 않은 도메인 컨트롤러를 사용 하도록 설정 합니다. 일반적으로 사이트 링크 브리지를 IP 네트워크의 라우터 (또는 라우터 집합)에 해당합니다.  
  
기본적으로 kcc가 일부 사이트를 공통적으로 있는 모든 사이트 링크를 통해 전이적 경로 구성할 수 있습니다. 이 동작을 사용 하지 않도록 설정 하는 경우 각 사이트 링크 자체 별개 이며 격리 된 네트워크를 나타냅니다. 단일 경로으로 취급 될 수 있는 사이트 링크의 집합은 사이트 링크 브리지를 통해 표현 됩니다. 각 브리지 네트워크 트래픽에 대 한 독립 된 통신 환경을 나타냅니다.  
  
사이트 링크 브리지는 논리적으로 사이트 간 전이적 물리적 연결을 나타내는 데는 메커니즘입니다. 사이트 링크 브리지를 통해 kcc가 포함 된 사이트 링크의 모든 조합을 사용 하 여 해당 사이트에 저장 된 디렉터리 파티션 상호 연결 저렴 경로 결정 수 있습니다. 사이트 링크 브리지를 도메인 컨트롤러에 대 한 실제 연결을 제공 하지 않습니다. 사이트 링크 브리지를 제거 하는 경우 결합 된 사이트 링크를 통해 복제 kcc가 링크를 제거할 때까지 계속 됩니다.  
  
사이트 링크 브리지를 사이트에 인접 한 사이트에서 도메인 컨트롤러에도 호스트 되지 않는 디렉터리 파티션을 호스트 하는 도메인 컨트롤러에 필요한 파일만 있지만 하나 이상의 다른 사이트에는 디렉터리 파티션을 호스팅하는 도메인 컨트롤러 포리스트입니다. 인접 한 사이트를 하나의 사이트 링크에 포함 된 둘 이상의 사이트로 정의 됩니다.  
  
사이트 링크 브리지를 중간 사이트를 사용 하 여 연결이 끊어진된 두 사이트 간의 전이적 경로 제공 하는 두 개의 사이트 링크를 간의 논리적 연결을 만듭니다. 사이트 간 토폴로지 생성기 ISTG ()을 위해 브리지를 중간 사이트를 사용 하 여 실제 연결을 의미 합니다. 브리지를 중간 사이트에서 도메인 컨트롤러 복제 경로 제공 합니다 하는 것을 의미 하지 않습니다. 그러나이 임시 사이트를 복제할 디렉터리 파티션을 호스트 하는 도메인 컨트롤러를 포함 하는 경우에 해당 일 경우 사이트 링크 브리지를 필요 하지 않습니다.  
  
각 사이트 링크 비용 만들기 결과 경로 대 한 합계 비용이 추가 됩니다. 사이트 링크 브리지를 중간 사이트 디렉터리 파티션을 호스팅하는 도메인 컨트롤러를 포함 하지 않습니다 하 고 더 낮은 비용 링크 존재 하지 않는 경우 사용 됩니다. 중간 사이트 디렉터리 파티션을 호스트 하는 도메인 컨트롤러에 포함 하는 경우 두 개의 연결 되지 않은 사이트는 중간 도메인 컨트롤러에 대 한 복제 연결을 설정 하 고 브리지를 사용 하지 했던 것입니다.  
  
## <a name="BKMK_8"></a>사이트 링크 추이 성  
기본적으로 모든 사이트 링크는 전이적 또는 "브리지"입니다. Kcc가 사이트 간, 사이트 사이트 링크로 직접 연결 되어 있지 않지만 통해 전이적으로 연결 되어 있는 도메인 컨트롤러 복제 파트너를 결정 하는 복제 연결을 만듭니다 사이트 링크가 브리지로 연결 되는 일정이 겹칩니다을 일반적인 사이트의 집합입니다. 이 사이트 링크의 결합을 통해 다른 사이트에 있는 모든 사이트를 연결할 수 있는지를 의미 합니다.  
  
일반적으로 완벽 하 게 라우트된 네트워크의 경우 있습니다 필요가 없습니다 변경 내용 복제의 흐름을 제어 하려는 경우가 아니면 모든 사이트 링크 브리지를 만듭니다. 네트워크, 완전히 라우팅되지 않습니다 불가능 한 복제 시도 방지 하려면 사이트 링크 브리지는 만들어야 합니다. 특정 전송을 위해 모든 사이트 링크는 암시적으로 해당 전송에 대 한 단일 사이트 링크 브리지에 속합니다. 사이트 링크에 대 한 기본 브리징 자동으로 발생 하 고 Active Directory 개체가 해당 브리지를 나타냅니다. 합니다 **모든 사이트 링크 브리지** IP 및 SMTP Simple Mail Transfer Protocol ()를 모두 사이트 간 전송 컨테이너의 속성에 있는 설정을 자동 사이트 링크 브리지를 구현 합니다.  
  
> [!NOTE]  
> SMTP 복제 AD DS;의 이후 버전에서 지원 되지 않습니다. 따라서 SMTP 컨테이너에 사이트 링크 개체를 만들기도 권장 되지 않습니다.  
  
## <a name="BKMK_9"></a>글로벌 카탈로그 서버  
글로벌 카탈로그 서버가 도메인 컨트롤러인 포리스트의 모든 개체에 대 한 정보를 저장 하는 응용 프로그램 요청된 데이터를 저장 하는 특정 도메인 컨트롤러를 참조 하지 않고 AD DS를 검색할 수 있습니다. 글로벌 카탈로그 서버에는 모든 도메인 컨트롤러와 마찬가지로 스키마 및 구성 디렉터리 파티션의 전체, 쓰기 가능한 복제본 및 완전 한 쓰기 가능한 복제본을 호스팅하는 도메인에 대 한 도메인 디렉터리 파티션에 저장 합니다. 또한 글로벌 카탈로그 서버는 포리스트의 다른 모든 도메인의 일부는 읽기 전용 복제본을 저장합니다. 부분, 읽기 전용 도메인 복제본 도메인 에서만 특성 (가장 일반적으로 개체를 검색 하는 데 사용 되는 해당 특성)의 하위 집합만 모든 개체를 포함 합니다.  
  
## <a name="BKMK_10"></a>유니버설 그룹 구성원 자격 캐싱  
유니버설 그룹 구성원 자격 캐싱을 통해 사용자에 대 한 캐시 유니버설 그룹 멤버 자격 정보를 도메인 컨트롤러 수 있습니다. Active Directory 사이트 및 서비스 스냅인을 사용 하 여 유니버설 그룹 구성원 캐시를 Windows Server 2008을 실행 중인 도메인 컨트롤러를 사용할 수 있습니다.  
  
유니버설 그룹 구성원 자격 캐싱을 사용 하도록 설정 하면 도메인 컨트롤러는 모든 포리스트에 있는 개체를 복제할 필요가 없기 때문에 네트워크 대역폭 사용량을 최소화 하는 도메인의 모든 사이트에서 글로벌 카탈로그 서버에 대 한 필요가 없습니다. 또한 인증 도메인 컨트롤러는 항상 않아도 유니버설 그룹 멤버 자격 정보를 얻으려면 글로벌 카탈로그에 액세스 하기 때문에 로그온 시간을 줄입니다. 유니버설 그룹 구성원 자격 캐싱을 사용 하는 경우에 대 한 자세한 내용은 참조 하세요. [글로벌 카탈로그 서버 배치 계획](../../../ad-ds/plan/Planning-Global-Catalog-Server-Placement.md)합니다.  
  


