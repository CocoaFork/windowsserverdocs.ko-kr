---
ms.assetid: d7a4d2e1-217d-4ffc-93f0-817149bd9e7f
title: 손상될 작업 환경
description: ''
author: MicrosoftGuyJFlo
ms.author: joflore
manager: mtillman
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server-threshold
ms.technology: identity-adds
ms.openlocfilehash: 916bffd4f83e5c72816035542772342010e1a67c
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/17/2019
ms.locfileid: "59874484"
---
# <a name="avenues-to-compromise"></a>손상될 작업 환경

>적용 대상: Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

*법률 숫자 7: 가장 안전한 네트워크가 잘 관리 되는 것입니다.* - [10 immutable Laws of Security 관리](https://technet.microsoft.com/library/cc722488.aspx)  
  
심각한 손상 이벤트를 발생 한 조직에서는 평가 일반적으로 표시 조직 들이 IT 인프라에서 크게 다를 수 있습니다 하는 실제 상태에 대 한 가시성 제한 하는 "있는 그대로" 설명" 상태입니다. 이러한 차이 종종 거의 위험이 손상은 공격자 효과적으로 "소유" 환경 지점으로 진행 될 때까지 검색을 사용 하 여 손상 환경을 노출 하는 취약성을 소개 합니다.  
  
자세한 평가 공개 키 인프라 (Pki), 이러한 조직에서는 AD DS 구성, 서버, 워크스테이션, 응용 프로그램의 액세스 제어 목록 (Acl) 및 다른 기술을 구성 오류 및 취약점으로 인 한 표시를 하는 경우 재구성, 초기 손상을 방지할 수 있습니다.  
  
IT 설명서, 프로세스 및 프로시저에 대 한 분석을 포팅하는 공격자가 최종적으로 완벽 하 게 Active Directory 포리스트를 손상 시키는 데 사용 된 권한을 얻으려고 하는 관리 방식 부족 하 여 도입 된 취약성을 식별 합니다. 완벽 하 게 손상 된 포리스트는 하나 이상의 공격자가 아니라 개별 시스템, 응용 프로그램 또는 사용자 계정을 손상 하지만는 수정 하거나 포리스트의 모든 측면을 제거할 수 있습니다 이러한 권한의 수준을 가져올에 대 한 액세스를 에스컬레이션 합니다. 경우 Active Directory 설치를 손상 하는 수준으로, 공격자가 변경할 수는 환경이 나, 더 나쁜 경우 디렉터리, 시스템 및 계정 관리를 삭제 하려면 전체를 관리 하도록 허용 하는.  
  
그러면 권한 상승 (권한 실행에 사용할 수 있는 환경에서 발판을 공격자가 다양 한 다음에 나오는 설명에 일반적으로 발생된 하는 문제점 Active Directory에 대 한 공격 하지 않지만, 권한 상승) 결국 대상 및 AD DS를 손상 공격입니다.  
  
이 문서의이 섹션에서는 공격자가 일반적으로 사용 하 여 인프라에 액세스 하 고 최종적으로 권한 상승 공격을 시작 하는 메커니즘을 설명 하는에 중점을 둡니다. 또한 다음 섹션을 참조 하세요.  
  
-   [Active Directory 공격 가능성을 줄일](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md) Active Directory의 보안 구성에 대 한 권장 사항을 자세히 설명 합니다.  
  
-   [손상의 기호에 대 한 Active Directory 모니터링](../../../ad-ds/plan/security-best-practices/Monitoring-Active-Directory-for-Signs-of-Compromise.md) 손상을 발견 하기 위해 권장 사항  
  
-   [손상에 대 한 계획](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Planning-for-Compromise.md) 인프라에 대 한 공격을 준비 하는 데 도움이 되는 고급 방법 IT 및 비즈니스 관점  
  
> [!NOTE]  
> 이 문서에서는 AD DS 도메인의 일부인 Active Directory 및 Windows 시스템에서 공격자가 거의 Active Directory 및 Windows에만 집중 합니다. 이 운영 체제, 디렉터리, 응용 프로그램 및 데이터 저장소의 혼합 된 환경에서 비 Windows 시스템 손상 되었을 수도 있는 찾을 일반적입니다. 이 특히 시스템 제공 "연결" Windows 및 비 Windows 환경에 Windows 및 UNIX 또는 Linux 클라이언트에서 여러 운영 체제에 대 한 인증 서비스를 제공 하는 디렉터리에서 액세스 하는 파일 서버와 같은 경우 또는 서로 다른 디렉터리에서 데이터를 동기화 하는 메타 디렉터리입니다.  
>   
> AD DS는 Windows 시스템 뿐 아니라 다른 클라이언트에 제공 된 중앙된 액세스 및 구성 관리 기능으로 인해 대상으로 합니다. 다른 디렉터리 또는 인증 및 구성 관리 서비스를 제공 하는 응용 프로그램 수 및 결정된 공격자의 목표가 되어야 합니다. 디렉터리, 응용 프로그램 또는 데이터 저장소에 대해서도 준비 해야 하지만이 문서는 Active Directory 설치, 비 Windows 컴퓨터를 포함 하는 모든 조직은 손상의 가능성을 줄일 수 있는 보호에 중점 이러한 시스템에 대 한 공격입니다.  
  
## <a name="initial-breach-targets"></a>초기 위반 대상  
아무도 의도적으로 손상 시킬 조직을 노출 하는 IT 인프라를 작성 합니다. Active Directory 포리스트를 처음 생성할 경우에 일반적으로 초기 및 현재 있습니다. 년 전달 하 고 포리스트에 추가 될 새 운영 체제 및 응용 프로그램을 구입 합니다. Active Directory를 제공 하는 관리 효율성 이점을 인식 되는 대로 디렉터리 점점 더 많은 콘텐츠가 추가 되었는지, 더 많은 사용자를 AD DS를 사용 하 여 자신의 컴퓨터 또는 응용 프로그램 통합 및 가장에서 제공 하는 새 기능을 지원 하기 위해 업그레이드 도메인 Windows 운영 체제의 현재 버전입니다. 또한 시간이 지남에 따라 되나요 것 인데, 새로운 인프라를 추가할 때에 인프라의 다른 부분 뿐만 아니라 처음에 있었던 유지 되지에 제대로 작동 하 고 따라서 수신 하지 못하는 시스템 및 응용 프로그램 주의가 조직과 레거시 인프라 제거 되지 않습니다 있는 것을 잊지 하기 시작 합니다. 손상 된 인프라를 평가 하는 데 보이는 것에 따라 이전, 크고 더 복잡 한 환경, 가능성이 일반적으로 악용된 된 취약성의 다양 한 인스턴스가 됩니다.  
  
공격자의 동기에 관계 없이 대부분의 정보 보안 침해는 한 번에 하나 또는 두 개의 시스템 손상을 사용 하 여 시작합니다. 이러한 초기 이벤트 또는 네트워크 진입점의 경우 수 해결 되었고 했지만 취약성 활용 하는 경우가 많습니다. 합니다 [2012 데이터 위반 조사 보고서 (DBIR)](http://www.verizonbusiness.com/resources/reports/rp_data-breach-investigations-report-2012_en_xg.pdf), Verizon 위험 팀 협력 다양 한 국가 보안 기관 및 다른 회사에서에서 생성 하는 연간 연구는 기본값인 "not 공격의 96% 되었는지 상태 매우 어렵고,"및"위반의 97% 되었는지 단순 또는 중간 컨트롤을 통해 피할 수 있습니다." 이러한 결과 직접적인 결과 따라 일반적으로 악용된 된 취약성의 수도 있습니다.  
  
### <a name="gaps-in-antivirus-and-antimalware-deployments"></a>바이러스 백신 및 맬웨어 방지 프로그램 배포의 간격  
*법률 숫자 8: 오래 된 맬웨어 검사 프로그램은 전혀 것 스캐너 보다 조금 더만 있습니다.* - [10 Immutable Laws of Security (버전 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
조직의 바이러스 백신 및 맬웨어 방지 프로그램 배포의 분석에는 대부분의 워크스테이션에 사용할 수 있는 바이러스 백신 및 맬웨어 방지 소프트웨어를 사용 하 여 구성 및 현재 환경을 자주 표시 됩니다. 예외는 일반적으로 바이러스 백신 및 맬웨어 방지에 대 한 소프트웨어 배포, 구성 및 업데이트 하기가 어려울 수 있습니다 회사 환경 또는 직원의 장치에 자주 연결 되는 워크스테이션입니다.  
  
그러나 서버 채우기 많은 손상 된 환경에서 지속적으로 보호 수준이 경우가 많습니다. 보고 되는 [2012 데이터 위반 조사](http://www.verizonbusiness.com/resources/reports/rp_data-breach-investigations-report-2012_en_xg.pdf), 94 비율 모든 데이터와 관련 된 서버를 이전 연도 대 한 18% 증가 나타내는 위태롭게 하 고 공격의 69% 통합 맬웨어입니다. Server 채우기의 목격할 수는 바이러스 백신 및 맬웨어 방지 프로그램 설치 했었습니다 구성, 오래 된, 잘못 구성 되었거나도 사용 하지 않도록 설정 아닙니다. 경우에 따라 관리 담당자가 바이러스 백신 및 맬웨어 방지 소프트웨어가 사용 되지 있지만 다른 경우에 공격자가 다른 취약점으로 인 한을 통해 서버를 손상 시 키 지 후 소프트웨어를 비활성화 합니다. 바이러스 백신 및 맬웨어 방지 소프트웨어 비활성화 되 면 공격자 서버의 맬웨어 공장 하 고 서버에서 손상 전파에 집중 합니다.  
  
것 뿐 아니라 보호 하는 시스템은 현재, 포괄적인 맬웨어 보호를 사용 하 여 사용 하지 않도록 설정 또는 바이러스 백신 및 맬웨어 방지 프로그램 소프트웨어 제거에 대 한 시스템을 모니터링을 상태일 때 보호를 자동으로 다시 시작 수동으로 사용 하지 않도록 설정 합니다. 바이러스 백신 및 맬웨어 방지 소프트웨어도 방지 및 검색 모든 감염을 보장할 수는 있지만 올바로 구성 되어 있고 배포 된 바이러스 백신 및 맬웨어 방지 프로그램 구현을 감염의 가능성을 줄일 수 있습니다.  
  
### <a name="incomplete-patching"></a>불완전 한 패치  
*법률 숫자 3: 보안 픽스를 사용 하 여 유지할 수 없는 경우 네트워크 장기 구입할 수 없습니다.* - [10 immutable Laws of Security 관리](https://technet.microsoft.com/library/cc722488.aspx)  
  
월별 보안 업데이트 (이 경우 "대역" 업데이트도 함) 간에 보안 업데이트가 출시 된 경우에 따라서는 있지만 각 월의 두 번째 화요일에 보안 공지는 Microsoft 해제의 취약점으로 인 한 것으로 확인 된 경우 고객 시스템에는 긴급 한 위험 합니다. 소기업 Windows Update 시스템 및 응용 프로그램 패치 관리를 사용 하 여 Windows 컴퓨터 또는 대규모 조직 구성 하는지 여부를 사용 하 여 System Center Configuration Manager (SCCM)와 같은 관리 소프트웨어에 따라 패치를 배포 하세요 계층적 계획 많은 고객이 비교적 적시에 해당 Windows 인프라를 패치 합니다.  
  
그러나 Windows 컴퓨터 및 Microsoft 응용 프로그램을 포함 하는 몇 가지 인프라 이며 손상 된 환경에서 조직의 패치 관리 전략 간격을 포함 하는 경우가 일반적입니다. 이러한 환경에서 Windows 시스템 일관성 없이 패치가 적용 됩니다. 비 Windows 운영 체제 적어도 산발적으로 패치가 적용 됩니다. 상용 상업용 (COTS) 응용 프로그램 취약점을 패치 존재 하지만 적용 되지 않은 포함 합니다. 네트워킹 장치는 종종 출하 시 기본 자격 증명 구성 되어 있고 없는 펌웨어 업데이트는 설치 후 년입니다. 응용 프로그램 및 해당 공급 업체가 더 이상 지원 되지 않는 운영 체제는 종종 유지 하는 더 이상 패치할 수 취약성에 대해 팩트 불구 하 고 실행 합니다. 이러한 각 패치가 적용 되지 않은 시스템 공격자가 다른 잠재적인 진입점을 나타냅니다.  
  
소비자 주도의 IT에 도입 된 추가 문제는 직원의 소유 장치 회사 소유의 데이터에 액세스 하는 데 사용 되는 및 조직 직원의 개인 장치를 구성 하 고 패치를 통해 없는 약간의 제어 있을 수 있습니다. 엔터프라이즈급의 하드웨어는 엔터프라이즈급 구성 옵션 및 개별 장치 및 사용자 지정 선택 영역에서 작은 선택 하는 대신 관리 기능을 사용 하 여 일반적으로 제공 됩니다. 직원에 초점을 맞춘 하드웨어 제조업체, 공급 업체, 하드웨어 보안 기능, 소프트웨어 보안 기능, 관리 기능 및 구성 옵션의 광범위 한 범위를 제공 하 고 많은 엔터프라이즈 기능 모두 없을 수 있습니다.  
  
#### <a name="patch-and-vulnerability-management-software"></a>패치 및 취약점 관리 소프트웨어  
효과적인 패치 관리 시스템을 Windows 시스템 및 Microsoft 응용 프로그램의 경우 만든 패치가 적용 되지 않은 취약성 공격의 일부 해결 되었습니다. 그러나 비 Windows 시스템, 비 Microsoft 응용 프로그램, 네트워크 인프라 및 직원 장치 패치 및 기타 수정에 대 한 최신를 유지 됩니다 하지 않는 한 인프라 취약 한 남아 있습니다. 일부 경우에는 응용 프로그램의 공급 업체 자동 업데이트 기능을 제공할 수 있습니다. 다른 환경에서는 정기적으로 검색 하 고 패치 및 기타 수정을 적용 하는 접근 방식을 시도해 필요가 있을 수 있습니다.
  
### <a name="outdated-applications-and-operating-systems"></a>오래 된 응용 프로그램 및 운영 체제  
*"6 월의 역사 공격 으로부터 보호 하기 위해 6 년 된 운영 체제를 기대할 수 없습니다."* 정보 보안 전문가의 10 년을 사용 하 여 보안 엔터프라이즈 설치 환경  
  
하지만 "현재 가져오기, 최신" 같지만 마케팅 구, 오래 된 운영 체제 및 응용 프로그램 대부분의 조직에서 위험을 만들 IT 인프라입니다. 여전히 2003에 릴리스된 운영 체제 공급 업체에서 지원 및 운영 체제는 운영 체제의 최신 버전에 추가 된 보안 기능을 포함 하지 않을 수 있지만 해당 취약점을 해결 하는 업데이트를 사용 하 여 제공 될 수 있습니다. 오래 된 시스템은 해당 컴퓨터의 작은 기능을 지원 하도록 특정 AD DS 보안 구성의 약화 필요할 수 있습니다.  
  
레거시 인증 프로토콜을 사용 하는 더 이상 지 원하는 응용 프로그램이 일반적으로 공급 업체에서 작성 된 응용 프로그램 보다 강력한 인증 메커니즘을 지원 하기 위해 retooled 수 없습니다. 그러나 조직의 Active Directory 도메인 LAN Manager 해시 또는 이러한 응용 프로그램을 지원 하려면 해독된 가능한 암호 저장을 계속 구성할 수 있습니다. 또는 이전 버전과 이전 시스템을 유지 하기 위해 조직이 현재 운영 체제에서 전혀 및 일부 경우 완전히 지원 되지 않는 하드웨어 및 소프트웨어에는 최신 운영 체제의 도입 되기 전에 작성 된 응용 프로그램 작동 하지 않습니다.  
  
Windows Server 2012, Windows Server 2008 R2 또는 Windows Server 2008 조직이 해당 도메인 컨트롤러를 업데이트가 경우에도 일반적으로 Windows Server 2003, Windows가 실행 되 고 서버의 채우기 멤버의 상당한 부분을 찾을 것합니다 2000 server 또는 Windows NT Server 4.0 (하는 완전히 지원 되지 않습니다). 조직 에이징 시스템을 유지 하는 오래, 더 기능 집합 간의 차이 커지고 가능성이 높습니다이 프로덕션 시스템 지원 되지 것입니다. 또한는 더 이상 Active Directory 포리스트는 유지 관리, 더 레거시 시스템 및 응용 프로그램 업그레이드 계획에서 누락 된 관찰 했습니다. 이 Active Directory 레거시 프로토콜 및 인증 메커니즘을 지원 하도록 구성 되어 있으므로 단일 응용 프로그램을 실행 하는 단일 컴퓨터에서 도메인 또는 포리스트 차원의 취약점이 발생할 수 있습니다를 의미 합니다.  
  
레거시 시스템 및 응용 프로그램을 제거 하려면 먼저 식별 하 고, 카탈로그에서 다음을 업그레이드 하거나 호스트를 응용 프로그램을 대체할 것인지 결정할 때에서 집중 해야 합니다. 이 지원 아니고는 업그레이드 경로 매우 특수화 된 응용 프로그램에 대 한 대체를 찾기 어려울 수 있습니다, 있지만 수 있습니다 "creative 소멸" 이라는 개념을 활용 하 여 새 응용 프로그램을 사용 하 여 레거시 응용 프로그램을 교체할 수 필요한 기능을 제공 합니다. [손상에 대 한 계획](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Planning-for-Compromise.md) 이 문서의 뒷부분에서 "손상에 대 한 계획 수립"에서 자세히 설명 합니다.  
  
### <a name="misconfiguration"></a>잘못 된 구성  
*법률 숫자 4: 훨씬 적합 하지 시작 하려면 보호 된 컴퓨터에서 보안 픽스를 설치 하려면 수행 하지 않습니다.* - [10 immutable Laws of Security 관리](https://technet.microsoft.com/library/cc722488.aspx)  
  
현재 및 패치가 적용 된 시스템 유지 일반적으로 환경에도 일반적으로 식별 간격 또는 운영 체제에 잘못 된 구성 컴퓨터 및 Active Directory에서 실행 중인 응용 프로그램입니다. 일부 구성 오류에 손상 된 로컬 컴퓨터에만 노출 하지만 나면 컴퓨터 "을 소유 하 는" 공격자가 일반적으로 중점을 추가로 고 최종적으로 Active Directory 다른 시스템에서 손상을 전파 합니다. 다음은는 위험을 소개 하는 구성을 식별 하는 일반적인 영역 중 일부입니다.  
  
#### <a name="in-active-directory"></a>Active Directory에서  
도메인 관리자 (DA), Enterprise Admins (EA) 또는 활성에서 기본 제공 관리자 (BA) 그룹의 멤버와 같이 가장 높은 권한 있는 그룹의 구성원 인 공격자가 가장 일반적으로 대상으로 하는 계정에 Active Directory는 디렉터리입니다. 이러한 그룹의 공격 노출 영역 제한 되도록 이러한 그룹의 구성원 계정 가능한 가장 작은 수를 줄여야 합니다. 이러한 권한 있는 그룹에서 "영구" 멤버 자격을 제거 하려면 수도 즉, 일시적으로 해당 도메인 및 포리스트 차원의 권한이 필요한 경우에 이러한 그룹을 채울 수 있도록 설정을 구현할 수 있습니다. 매우 강력한 권한의 계정을 사용 하는 경우 도메인 컨트롤러 등 보안 관리 호스트 지정, 보안 시스템에만 사용 해야 합니다. 이러한 구성이 모두 구현할 수 있도록 자세한 정보에 제공 됩니다 [Active Directory 공격 가능성을 줄일](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md)합니다.  
  
Active Directory에서 가장 높은 권한 있는 그룹의 멤버 자격을 평가 하는 경우 일반적으로 알게 과도 한 멤버 자격 대부분 권한 있는 그룹의 세 가지 모두에 있습니다. 경우에 따라 조직에는 수십, 수백 개의 계정 DA 그룹에 있습니다. 조직에서는 그룹은 생각 하는 기본 제공 Administrators 그룹에 직접 계정을 배치 경우도 "DAs 그룹 보다" 권한"less 합니다. 그것이 아니야. 종종 알게 EA 그룹의 영구 구성원이 소수의 EA 권한 및 일시적으로 필요한 거의 불구 하 고 포리스트 루트 도메인에 합니다. 모든 3 개 그룹에서 IT 사용자의 일상적인 관리 계정 찾기는 이것이 효과적으로 중복 구성도 일반적인 합니다. 에 설명 된 대로 [Active Directory 공격 가능성을 줄일](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md)계정이 이러한 그룹 중 하나 또는 모든의 영구 멤버인 인지, 계정을 손상 및 AD DS 환경을 시스템과 파괴도 사용할 수 및 관리 하는 계정입니다. 보안 구성 및 Active Directory에서 권한 있는 계정의 사용에 대 한 권장 사항에 제공 됩니다 [Active Directory 공격 가능성을 줄일](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md)합니다.  
  
#### <a name="on-domain-controllers"></a>도메인 컨트롤러에서  
종종 알게 도메인 컨트롤러를 평가 하는 경우 찾아 구성 하 고 멤버 서버와 더 다르게 관리 됩니다. 도메인 컨트롤러는 경우에 따라 동일한 응용 프로그램 및 설치 된 구성원 서버에서 도메인 컨트롤러에 필요한 때문이 아니라 응용 프로그램은 표준 빌드의 일부 이므로 유틸리티를 실행 합니다. 이러한 응용 프로그램 도메인 컨트롤러에 최소한의 기능을 제공 하지만 포트를 열거나 높은 service 계정을 만들고, 사용자가 시스템에 대 한 액세스 권한을 부여 하는 구성 설정이 요구 하 여 공격 노출 영역을 상당히 추가할 수 있는 사용자 연결할 도메인 컨트롤러에 인증 및 그룹 정책 응용 프로그램 이외의 목적을 위해. 일부 위반에서 공격자가 뿐 아니라 도메인 컨트롤러에 액세스할 수 있지만를 수정 하거나 AD DS 데이터베이스를 손상 시키는 도메인 컨트롤러에 이미 설치 되어 있는 도구를 사용 했습니다.  
  
사용자의 Active Directory에서 권한 수준이 높은 계정 도메인에서 인터넷 및 인트라넷 액세스를 사용 하는 계정으로 로그온 한 도메인 컨트롤러에서 Internet Explorer 구성 설정에서 추출할 때 찾을 컨트롤러입니다. 경우에 따라 계정 콘텐츠를 인터넷의 다운로드를 허용 하도록 도메인 컨트롤러에서 Internet Explorer 설정을 구성 및 유틸리티도 인터넷 사이트에서 다운로드 되 고 도메인 컨트롤러에 설치 합니다. 기본적으로 사용자와 관리자에 대 한 Internet Explorer 보안 강화 구성 가능 하지만 자주 확인할 즉 관리자가 비활성화 되었습니다. 강력한 권한의 계정이 인터넷에 액세스 하는 모든 컴퓨터에 콘텐츠를 다운로드를 해당 컴퓨터는 심각한 위험에 배치 됩니다. 컴퓨터가 도메인 컨트롤러인 경우 전체 AD DS 설치를 위험에 배치 됩니다.  
  
##### <a name="protecting-domain-controllers"></a>도메인 컨트롤러 보호  
도메인 컨트롤러를 중요 한 인프라 구성 요소를 취급 하 고 사용 보다 엄격 하 게 보호, 게 파일, 인쇄 및 응용 프로그램 서버 보다 더 엄격 하 게 구성 해야 합니다. 도메인 컨트롤러에서 공격에 대 한 도메인 컨트롤러를 보호 하지 않습니다 또는 함수에 도메인 컨트롤러에 대 한 필요 하지 않은 모든 소프트웨어를 실행 하지 마십시오. 인터넷에 액세스 하려면 도메인 컨트롤러를 허용 해서는 안 하 고 보안 설정을 구성 하 고 그룹 정책 개체 (Gpo)에 의해 적용 해야 합니다. 보안 설치, 구성 및 관리 도메인 컨트롤러에 대 한 자세한 권장 사항을 제공 됩니다 [공격에 대 한 도메인 컨트롤러 보안](../../../ad-ds/plan/security-best-practices/Securing-Domain-Controllers-Against-Attack.md)합니다.  
  
#### <a name="within-the-operating-system"></a>운영 체제 내에서  
*법률 숫자 2: 악당 컴퓨터에 운영 체제를 변경할 수, 하는 경우 것이 컴퓨터가 아니다.* - [10 Immutable Laws of Security (버전 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
손상 된 환경에 대 한 분석을 다 수의 서버에 배포 된 종종 얻는 일부 조직에서는 서로 다른 유형의 서버에 대 한 기준 구성 만들기를 설치한 후 운영 체제의 제한 된 사용자 지정을 허용 하지만 임시 방식으로 수동으로 고 독립적으로 구성 합니다. 모두 서버가 안전 하 게 구성 되어 있는 동일한 기능을 수행 하는 두 서버 간에 구성을 완전히 다를 수 있습니다. 서버 구성 기준 수 일관 되 게 적용 되지만 잘못 구성도 일관 되 게; 반대로 즉, 서버는 지정 된 형식의 모든 서버에서 동일한 취약점을 만드는 방식으로 구성 됩니다. 시스템과 통해 설치에서 동일한 로컬 자격 증명의 사용에 과도 한 권한 및 계정 (특히 서비스 계정)에 권한을 부여, 잘못 된 구성에는 보안 기능 해제와 같은 사례가 포함 되어 있습니다. 무단된 응용 프로그램 및 자체의 취약점으로 인 한 만든 유틸리티입니다.  
  
##### <a name="disabling-security-features"></a>보안 기능을 사용 하지 않도록 설정  
조직은 WFAS를 구성 하기가 되었거나 작업 집약적 구성이 필요 믿음이에서 고급 보안 (WFAS) 사용 하 여 Windows 방화벽을 비활성화 하는 경우도 있습니다. 그러나 Windows Server 2008부터 모든 역할이 나 기능을 서버에 설치 되어 기본적으로 역할 또는 함수에 기능에 필요한 최소 권한으로 구성 됩니다. 하 고 역할을 지원 하도록 Windows 방화벽을 자동으로 구성 됩니다. 또는 기능을 추가 합니다. WFAS를 사용 하지 않도록 설정 (및 해당 위치에서 다른 호스트 기반 방화벽을 사용 하지) 하 여 조직 전체 Windows 환경의 공격 노출 영역을 늘립니다. 경계 방화벽 직접 인터넷에서 environment를 대상으로 하는 공격 으로부터 어느 정도 보호를 제공 하지만 제공와 같은 다른 공격 벡터를 악용 하는 공격 으로부터 보호 되지 않음 [드라이브 바이 다운로드](https://www.microsoft.com/security/sir/glossary/drive-by-download-sites.aspx) 공격 또는 인트라넷의 다른 손상 된 시스템에서 발생 하는 공격입니다.  
  
사용자 계정 컨트롤 (UAC) 설정 관리 담당자 찾을 프롬프트 침입적 인 없기 때문에 따라 서버에서 비활성화 됩니다. 하지만 [Microsoft 지원 문서 2526083](https://support.microsoft.com/kb/2526083) core installation (UAC 사용 되지 않는 경우 설계) 서버에서 UAC 안 서버를 실행 하지 않으면 Windows Server에서 UAC 비활성화할 수 있습니다 하는 시나리오를 설명 합니다. 신중한 고려와 연구 합니다.  
  
보안 수준이 낮은 값 조직 Windows Server 2012, Windows를 실행 하는 컴퓨터에 Windows Server 2003 기준을 적용 하는 등 새로운 운영 체제에 오래 된 서버 구성 설정을 적용 하도록 구성 된 서버 설정은 다른 경우에 Server 2008 R2 또는 Windows Server 2008 운영 체제의 변경 내용을 반영 하기 위해 초기 계획을 변경 하지 않고 있습니다. 파일을 새 운영 체제를 배포할 때 새 운영 체제에 이전 서버 기준을 보유 하는 대신 보안 변경 내용 및 되도록 구현 설정을 적용 하 고 새 운영 체제에 대 한 적절 한 구성 설정을 검토 합니다.  
  
##### <a name="granting-excessive-privilege"></a>과도 한 권한 부여  
평가에서는 거의 모든 환경에서 Windows 시스템에서 로컬 및 도메인 기반 계정 과도 한 권한 부여 됩니다. 사용자가 자신의 워크스테이션에 작동 하는 데 필요한 이외의 권한으로 구성 된 서비스를 실행 하는 멤버 서버에 대 한 로컬 관리자 권한이 부여 됩니다 및 수십 또는 수백 개의 서버에서 로컬 관리자 그룹 포함 로컬 및 도메인 계정입니다. 컴퓨터에서 하나의 권한 있는 계정 손상 공격자가 모든 사용자 및 다른 시스템에는 이러한 타협을 전파 하는 데 harvest 및 활용 하 여 자격 증명 하는 컴퓨터에 로그온 하는 서비스 계정을 손상 할 수 있습니다.  
  
Pass-the-hash (PTH) 및 기타 자격 증명 도난 공격은 유비쿼터스 현재 통해 간단 하 게 제공 되는 무료 도구 이므로 것 이며 되지만 경우 공격자가 다른 권한 있는 계정의 자격 증명을 추출 하는 일을 쉽게 얻었습니다 관리자- 또는 컴퓨터에 대 한 시스템 수준 액세스 합니다. 로그온 세션에서 자격 증명 수집을 허용 하는 도구 없이 공격자가 컴퓨터에 대 한 권한 있는 액세스를 사용 하 여 키 입력, 스크린샷 및 클립보드 내용을 캡처하는 키 입력으로 거를 간단 하 게 설치할 수 있습니다. 공격자가 컴퓨터에 대 한 권한 있는 액세스를 사용 하 여 수 맬웨어 방지 소프트웨어를 사용 하지 않도록 설정, 루트킷 설치, 보호 된 파일을 수정 또는 맬웨어 공격을 자동화 하거나 서버를 설정 하는 컴퓨터에 설치를 [드라이브 바이 다운로드](https://www.microsoft.com/security/sir/glossary/drive-by-download-sites.aspx) 호스트 합니다.  
  
단일 컴퓨터 외부 위반을 확장 하는 데 전술 다르지만 손상 전파에 키가 추가 시스템에 대 한 높은 액세스를 확보 합니다. 모든 시스템에 액세스 권한이 있는 계정의 수를 줄여 컴퓨터 이지만 컴퓨터에서 중요 한 자격 증명을 수집 하는 공격자의 가능성을 뿐만 아니라 공격을 줄일 수 있습니다.  
  
##### <a name="standardizing-local-administrator-credentials"></a>로컬 관리자 자격 증명을 표준화  
Windows 컴퓨터에서 로컬 관리자 계정 이름 바꾸기에 값이 있는지 여부에로 보안 전문가 간의 논쟁 오래 되었습니다. 실제로 로컬 관리자 계정에 대 한 중요 한 점은 여러 컴퓨터에서 동일한 사용자 이름 및 암호를 사용 하 여 구성 여부입니다.  
  
서버에서 로컬 관리자 계정 이름은 동일한 값으로도 동일한 값을 하도록 구성 된 계정에 할당 된 암호를 하는 경우 공격자는 관리자 또는 시스템 수준 액세스에 대 한 컴퓨터 계정의 자격 증명을 추출할 수 있습니다. 가져왔습니다. 공격자가 처음에 관리자 계정 손상 시킬 필요가 없습니다. LocalSystem 또는 관리자 권한으로 실행 하도록 구성 된 서비스 계정 또는 로컬 관리자 그룹의 구성원 인 사용자의 계정을 손상 시킬 필요는 합니다. 그런 다음 공격자가 관리자 계정의 자격 증명을 추출 하 고 네트워크의 다른 컴퓨터에 로그온 하는 네트워크에서에서 해당 자격 증명을 재생할 수 있습니다.  
  
다른 컴퓨터에 동일한 사용자 이름 및 암호 (또는 암호 해시)으로 제공 되는 계정 자격 증명을 사용 하는 로컬 계정으로 로그온 시도가 성공 하 고 공격자가 대상된 컴퓨터에 대 한 권한 있는 액세스를 가져옵니다. 내장 된 Administrator 계정을 Windows의 현재 버전에서은 [기본적으로 비활성화 되어](https://technet.microsoft.com/library/cc753450.aspx), 하지만 레거시 운영 체제에서 계정을 기본적으로 사용 하도록 설정 합니다.  
  
> [!NOTE]  
> 일부 조직에서는 의도적으로 스레드도이 제공 하는 "안전한" 다른 모든 권한 있는 계정 시스템 잠긴 경우에 사용할 로컬 관리자 계정을 구성 합니다. 그러나 로컬 관리자 계정을 비활성화 하 고 다른 계정을 사용할 수 있는 계정 또는 관리자 권한으로 시스템에 로그온을 사용 하도록 설정할 수 있는 하는 경우에 시스템이 부팅할 수 안전 모드 및 기본 제공 로컬 관리자 계정을 다시 활성화할 수 있습니다에 설명 된 대로 [Microsoft 지원 문서 814777](https://support.microsoft.com/kb/814777)합니다. 또한 Gpo 시스템에 성공적으로 적용 되는 경우 (일시적으로) 다시 사용 하도록 설정 하려면 관리자 계정에 GPO를 수정할 수 있습니다 또는 도메인 기반 계정을 로컬 관리자 그룹에 추가 하려면 제한 된 그룹을 구성할 수 있습니다. 복구를 수행할 수 있습니다 하 고 관리자 계정을 다시 비활성화할 수 있습니다. 기본 제공 로컬 관리자 계정 자격 증명을 사용 하는 횡 적 손상을 효과적으로 방지 하려면 고유한 사용자 이름 및 암호 로컬 관리자 계정에 대해 구성 되어야 합니다. GPO 통해 로컬 관리자 계정에 대해 고유한 암호를 배포 하려면 참조 [GPO 통해 기본 제공 관리자 계정의 암호 관리를 위한 솔루션](https://technet.microsoft.com/mt227395.aspx) technet에 있습니다.  
  
##### <a name="permitting-installation-of-unauthorized-applications"></a>무단된 응용 프로그램 설치 허용  
*법률 숫자 1: 악의적 사용자를 유도할 컴퓨터에 자신이 만든 프로그램이 실행을 하는 경우이 컴퓨터에만 아니다.* - [10 Immutable Laws of Security (버전 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
서버에 걸쳐 일관성 있는 기준의 설정을 배포 하는 조직에 있는지 여부를 서버의 정의 된 역할의 일부분이 아닌 응용 프로그램 설치 허용 해서는 안 됩니다. 에서 서버의 지정 된 기능의 포함 되지 않은 소프트웨어를 설치할 수 있으므로 서버는 우발적 이거나 악의적인 서버의 공격 노출 영역이 증가, 응용 프로그램 취약점을 도입 또는 발생 하는 소프트웨어 설치에 노출 시스템이 불안정 합니다.  
  
#### <a name="applications"></a>애플리케이션  
앞에서 설명한 대로 응용 프로그램 자주 설치 되 고 응용 프로그램 보다 더 많은 권한을 실제로 필요한 부여 된 계정을 사용 하도록 구성 합니다. 일부 경우에는 서비스 계정 서버의 로컬 관리자 그룹의 구성원 이어야 합니다 또는를 LocalSystem의 컨텍스트에서 실행 하도록 구성 해야 하는 응용 프로그램의 설명서를 지정 합니다. 이 종종 응용 프로그램에 이러한 권한이 필요 하지만 응용 프로그램의 서비스 계정 필요 추가 시간과 노력에 대 한 투자가 필요 어떤 권한 및 사용 권한을 확인 하므로 때문에 없습니다. 응용 프로그램 및 해당 구성된 기능 작동에 필요한 최소 권한을 사용 하 여 응용 프로그램을 설치 하지 않습니다, 경우에 시스템 응용 프로그램 권한 없이 운영 체제 자체에 대 한 모든 공격을 활용 하는 공격에 노출 됩니다.  
  
### <a name="lack-of-secure-application-development-practices"></a>보안 응용 프로그램 개발 사례 부족  
인프라는 비즈니스 워크 로드를 지원 하기 위해 존재 합니다. 이러한 작업으로 사용자 지정 응용 프로그램에서 구현 되는 것이 중요 한 보안 모범 사례를 사용 하 여 응용 프로그램은 개발 확인입니다. 엔터프라이즈 수준 인시던트 근본 원인 분석 하는 초기 손상을 영향을 미칩니다 사용자 지정을 통해 상의 응용 프로그램-특히 수 있는 인터넷 연결 합니다. 대부분의 이러한 타협이 손상 SQL 주입 (SQLi) 등 잘 알려진 공격을 통해 완수 됩니다 및 사이트 간 스크립팅 (XSS) 공격입니다.  
  
SQL 삽입은 실행에 대 한 데이터베이스에 전달 되는 SQL 문을 수정할 수 있는 사용자 정의 입력을 허용 하는 응용 프로그램 취약점입니다. 이 입력 필드에 응용 프로그램, 매개 변수 (예: 쿼리 문자열 또는 쿠키) 또는 다른 메서드를 통해 제공할 수 있습니다. 이 주입의 결과 데이터베이스에 제공 된 SQL 문을 어떤 개발자가 의도 한 근본적으로 다르지 된다는 점입니다. 예를 들어, 사용자 이름/암호 조합의 평가에 사용 되는 일반적인 쿼리를 수행 합니다.  
  
`SELECT userID FROM users WHERE username = 'sUserName' AND password = 'sPassword'`  
  
이 데이터베이스 서버에서 수신 되 면 사용자 테이블을 살펴보고 여기서 사용자 이름 및 암호를 일치 아마도 (일종의 로그인 양식)를 통해 사용자가 제공한 모든 userID 레코드를 반환 하는 서버를 지시 합니다. 기본적으로 개발자의 의도 여기서 유효한 레코드는 사용자가 올바른 사용자 이름 및 암호를 제공할 수 있습니다 하는 경우에 반환 하는. 하거나 잘못 된 경우 데이터베이스 서버를 일치 하는 레코드를 찾아 빈 결과가 반환 됩니다.  
  
공격자가 유효한 데이터 대신 자체 SQL 같은 예기치 않은 작업을 수행 하는 경우 문제가 발생 합니다. SQL 해석된에 즉석에서 데이터베이스 서버에서 이기 때문에 개발자가 자신에 배치 해야 하는 경우에 따라 삽입된 된 코드 처리 됩니다. 예를 들어 공격자가 입력 한 **관리자** 사용자 id 및 **xyz** 또는 **1 = 1** 를 암호로 나타나는 결과 문은 데이터베이스에서 처리 됩니다.  
  
`SELECT userID FROM users WHERE username = 'administrator' AND password = 'xyz' OR 1=1`  
  
이 쿼리는 데이터베이스 서버에서 처리 되 면 테이블의 모든 행 반환 됩니다 쿼리에서 1 = 1 항상 True로 계산 됩니다, 따라서 때문에 올바른 사용자 이름과 암호는 알 수 없거나 제공 된 경우 문제가 되지 않습니다. 대부분의 경우에서 결과적으로는 사용자가 로그온 사용자의 데이터베이스에서 첫 번째 사용자로 대부분의 경우에서 관리자가 됩니다.  
  
단순히 로그온 하는 것 외에도 잘못 된 형식의 SQL 문을이 추가할 수와 같은 삭제 또는 변경 데이터를 또는 데이터베이스에서 전체 테이블 (삭제)을 삭제할 수도 합니다. 과도 한 권한 SQLi를 함께 가장 극단적인 경우에 공격 도구를 다운로드 하거나 선택 하는 공격자의 다른 작업을 수행할 새 사용자를 만들 수 있도록 하려면 운영 체제 명령은 실행할 수 있습니다.  
  
사이트 간 스크립팅 취약점은 응용 프로그램의 출력에서 도입 되었습니다. 응용 프로그램에 잘못 된 형식의 데이터를 제공 하는 공격자를 사용 하 여 공격 시작 이지만 경우 잘못 된 데이터 피해자의 브라우저에서 실행 되는 스크립트 코드 (예: JavaScript)의 형태로 있습니다. 브라우저를 시작한 사용자의 컨텍스트에서 대상 응용 프로그램의 모든 함수를 실행 하는 공격자는 XSS 취약점의 악용 수 있습니다. XSS 공격은 일반적으로 사용자가 응용 프로그램에 연결 하 고는 공격 코드를 실행 하는 링크 클릭을 장려 피싱 전자 메일을 통해 시작 됩니다.  
  
XSS는 온라인 뱅킹 및 공격자 구매할 수 있습니다 또는 악용된 하는 사용자의 컨텍스트에서 송금을 있는 전자 상거래 시나리오에서 자주 이용 됩니다. 사용자 지정 웹 기반 id 관리 응용 프로그램에서 공격을 대상으로 지정 된 경우 공격자가 자신의 id를 만들 권한 및 권한을 수정 하 고 시스템 손상으로 이어질 수 있습니다.  
  
사이트 간 스크립팅 및 SQL 주입에 대 한 자세한 내용은이 문서의 범위를 벗어납니다. 하지만 합니다 [OWASP Open Web Application Security Project ()](https://www.owasp.org/index.php/Main_Page) 자세한 설명은 취약성을 사용 하 여 상위 10 개 목록 게시 및 대책을 추가 합니다.  
  
보안 인프라에에서 대 한 투자에 관계 없이 해당 인프라에 내 잘못 설계 및 작성 된 응용 프로그램에 배포 된 경우 환경을 구성 하는 공격에 취약 합니다. 종종도 잘 보안 인프라는 이러한 응용 프로그램 공격 하는 효과적인 대책을 제공할 수 없습니다. 점도 문제, 잘못 설계 된 응용 프로그램 서비스 계정에 함수에 응용 프로그램에 대 한 과도 한 권한 부여는 필요할 수 있습니다.  
  
Microsoft 보안 개발 수명 주기 (SDL)는 보안부터 초기 요구 사항 수집 하 고 역할을 해제 될 때까지 응용 프로그램의 수명 주기를 통해 확장을 개선 하기 위해 노력 하는 구조적 프로세스 컨트롤의 집합입니다. 효과적인 보안 제어의이 통합만 보안의 관점에서 중요 하지 않은, 응용 프로그램 보안 비용을 확인 하는 중요 하 고 효과적인 예약 합니다. 응용 프로그램 보안 문제를 효과적으로 코드가 완료 되 면 평가 전에만 또는 응용 프로그램을 배포한 후에 응용 프로그램 보안에 대 한 결정을 내릴 수는 조직에 필요 합니다. 비용 및 지연, 프로덕션 환경에서 응용 프로그램을 배포 하기 전에 응용 프로그램 결함을 해결 하기 위해 조직 선택 하거나 알려진된 보안 결함을 손상 시킬 조직 노출로 프로덕션에서 응용 프로그램을 배포할 수 있습니다.  
  
일부 조직에서는 문제 당 10,000 달러 위의 프로덕션 코드에서 보안 문제를 수정 하는 전체 비용을 두고는 효과적인 SDL 하지 않고 개발 된 응용 프로그램에 100,000 줄의 코드로 당 10 개 이상의 심각도 높은 문제 평균 수입니다. 큰 응용 프로그램에서는 비용은 신속 하 게 에스컬레이션 합니다. 반면, 대부분의 회사는 SDL의 최종 코드 검토 단계에서 100,000 줄의 코드로 당 1 개 미만의 문제의 벤치 마크를 설정 하 고 프로덕션 환경에서 위험 수준이 높은 응용 프로그램에서 0 문제에 대 한 것을 목표로.  
  
요구 사항 수집 초기에 보안 요구 사항을 포함 하 여 보안을 향상 시킵니다 구현 SDL 위협 위험 수준이 높은 응용 프로그램에 대 한 모델링을 제공 하는 응용 프로그램의 디자인 및 효과적인 교육 및 개발자를 모니터링 해야 합니다. 일관 된 코드 표준과 방식을 명확 하 고 필요 합니다. 최종 결과 SDL의 개발, 배포, 유지 관리 및 응용 프로그램을 서비스 해제에 비용을 절감 하는 동안 응용 프로그램 보안에 중요 한 향상 된 경우 이 문서에서 다루지 자세한 설명은 설계 및 구현 SDL의 경우에 참조 합니다 [Microsoft Security Development Lifecycle](https://www.microsoft.com/security/sdl/default.aspx) 자세한 지침 및 정보에 대 한 합니다.  
  


