---
ms.assetid: 34244b53-1206-4f5b-8c4d-3ebf574d8e24
title: 자격 증명 도난에 취약한 계정
description: ''
author: MicrosoftGuyJFlo
ms.author: joflore
manager: mtillman
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server-threshold
ms.technology: identity-adds
ms.openlocfilehash: 8e5d2b01f73127f84f700dab3518b66687f0294f
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/17/2019
ms.locfileid: "59863104"
---
# <a name="attractive-accounts-for-credential-theft"></a>자격 증명 도난에 취약한 계정

>적용 대상: Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

자격 증명 도난 공격은는 처음에 공격자가 가장 높은 권한 (루트, 관리자 또는 사용 중인 운영 체제에 따라 시스템)는 네트워크를 선택한 후 자격 증명을 추출할 도구 무료로 사용 하 여 컴퓨터에 대 한 액세스 다른 계정의 로그온 세션입니다. 시스템 구성에 따라 이러한 자격 증명 해시, 티켓 또는 심지어 일반 텍스트 암호의 형태로 데이터를 추출할 수 있습니다. 수집 된 자격 증명 중 하나 (예: 관리자 계정에 Windows, 또는 OSX, UNIX 또는 Linux 루트 계정) 네트워크 상의 다른 컴퓨터에 존재할 가능성이 있는 로컬 계정의 경우 공격자가 표시 다른 컴퓨터에 자격 증명 네트워크 추가 컴퓨터에 손상을 전파 하는 데 두 가지 특정 유형의 계정의 자격 증명을 획득 하려고 합니다.  

1.  광범위 하 고 전체 권한 (즉, 여러 컴퓨터에 Active Directory에서 관리자 수준 권한이 있는 계정)를 사용 하 여 권한 있는 도메인 계정입니다. 이러한 계정은 Active Directory에서 가장 높은 권한 그룹의 멤버인 되지 않지만 있습니다 권한이 부여 된 관리자 수준 권한 여러 서버 및 워크스테이션에서 도메인 또는 포리스트를 효과적으로 강력한 수 있으므로 Active Directory에서 권한 있는 그룹의 멤버입니다. 대부분의 경우에서 광범위 한 양의 Windows 인프라에서 높은 수준의 권한 부여 된 계정 되므로 서비스 계정, 서비스 계정 권한 폭넓고 항상 평가 해야 합니다.  

2.  "매우 중요 한 사람이" (VIP) 도메인 계정입니다. 이 문서의 컨텍스트에서 VIP 계정은 공격자가 (지적 재산권 및 기타 중요 한 정보) 정보에 대 한 액세스 권한이 있는 계정을 또는 해당 정보를 공격자가 액세스 권한을 부여할 수 있는 계정입니다. 이러한 사용자 계정은의 예입니다.  

    1.  임원이 해당 계정이 중요 한 회사 정보에 액세스할 수  

    2.  컴퓨터 및 경영진에서 사용 하는 응용 프로그램 유지 관리를 담당 하는 기술 지원팀 직원에 대 한 계정  

    3.  자신의 조직 또는 클라이언트 조직을 위해 문서가 있는지 여부를 조직의 입찰 및 계약 문서에 액세스할 수 있는 법적 직원에 대 한 계정  

    4.  회사는 제품의 종류에 관계 없이 제품에 대 한 계획 및 사양에 대 한 액세스는 회사의 개발에 제품 기획자 파이프라인  

    5.  계정을 가진 연구 데이터, 제품 구문이 또는 공격자에 게 관심 있는 다른 연구를 액세스 하는 연구원  

자격 증명 도난 공격에 대 한 가장 유용한 계정을 Enterprise admins 그룹의 멤버인 계정에는 Active Directory에서 매우 강력한 권한의 계정을 있는 VIP 계정 또는 액세스할 수 있는 데이터를 조작 하 고 손상 전파 하는 데 사용할 수 있으므로 Active Directory에서 domain Admins 및 관리자 그룹입니다.  

도메인 컨트롤러는 AD DS 데이터베이스에 대 한 리포지토리 이므로 Active Directory 도메인 컨트롤러에 모든 데이터에 대 한 전체 액세스 도메인 컨트롤러도 대상으로 손상 여부를 병렬로 다음 자격 증명 도난 공격 또는 높은 권한 있는 Active Directory 계정은 하나 이상 손상 된 합니다. Pass-the-hash 및 기타 자격 증명 도난 공격을 설명 하는 다양 한 게시 (및 많은 공격자를 저지) Domain Admins 그룹 구성원 자격에 집중 하지만 (에 설명 된 대로 [Active Directory 공격 가능성을 줄일](../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md)) 여기에 나열 된 그룹의 구성원 인 계정 전체 AD DS 설치를 손상 시키는 데 사용할 수 있습니다.  

> [!NOTE]  
> Pass-the-hash 및 기타 자격 증명 도난 공격에 대 한 포괄적인 정보를 참조 하십시오 합니다 [완화-Pass-the-hash PTH () 공격 및 기타 자격 증명 도용 기술](https://download.microsoft.com/download/7/7/A/77ABC5BD-8320-41AF-863C-6ECFB10CB4B9/Mitigating%20Pass-the-Hash%20(PtH)%20Attacks%20and%20Other%20Credential%20Theft%20Techniques_English.pdf) 에 나열 된 백서 [부록 M : 문서 링크 및 권장 자료](../../../ad-ds/manage/Appendix-M--Document-Links-and-Recommended-Reading.md)합니다. 확인된 된 악의적 사용자 공격에 대 한 자세한 내용은 하는 경우에 따라 라고 "지속적인 고급 위협을" (Apt)를 참조 하세요 [악의적 사용자 결정 및 공격 대상](https://www.microsoft.com/download/details.aspx?id=34793)합니다.  

## <a name="activities-that-increase-the-likelihood-of-compromise"></a>손상의 가능성을 높이 작업  
자격 증명 도난 대상 높은 권한이 있는 도메인 계정 및 VIP 계정 일반적 이기 때문에 관리자 자격 증명 도난 공격의 성공 가능성을 높이 작업의 수에 대 한 중요 한 것입니다. Vip는 높은 수준의 권한 시스템 또는 도메인을 지정 하지도 공격자가 대상 VIP 계정에 있지만 다른 유형의 보안 정보를 제공할 VIP 사회 엔지니어링 하는 등 공격을 자격 증명 도난에 필요 합니다. 또는 공격자는 VIP에 자격 증명이 캐시 되는 시스템에 대 한 권한 있는 액세스를 먼저 가져와야 합니다. 이 때문에 여기에 설명 된 자격 증명 도난 가능성이 증가 하는 작업은 초점 높은 권한이 필요한 관리 자격 증명 획득을 방지 합니다. 이러한 활동은 공격자는 권한 있는 자격 증명을 얻는 시스템을 손상 시킬 수 있는 일반적인 메커니즘입니다.  

### <a name="logging-on-to-unsecured-computers-with-privileged-accounts"></a>권한 있는 계정으로 보안이 설정 되지 않은 컴퓨터에 로그온  
성공 하려면 자격 증명 도난 공격을 허용 하는 핵심 취약점은 작업 광범위 하 게 된 계정을 사용 하 여 안전 하 고 환경 전체에서 권한 있는 밀접 하 게 되지 않는 컴퓨터에 로그온 하는 중입니다. 이러한 로그온 여기에 설명 된 다양 한 구성의 결과일 수 있습니다.  

#### <a name="not-maintaining-separate-administrative-credentials"></a>별도 관리 자격 증명을 유지 하지 않으면  
이것은 다양 한 AD DS 설치를 평가 하는 데 비교적 흔하지 않지만 모든 작업에 대 한 단일 계정을 사용 하 여 IT 직원을 발견 했습니다. 계정 하나 이상의 Active Directory에서 가장 높은 권한 있는 그룹의 구성원이 며 계정인 동일한 직원 아침에 자신의 워크스테이션에 로그온을 전자 메일을 확인 하 고, 인터넷 사이트나 탐색할 하 고 다운로드를 사용 하는 콘텐츠를 해당 컴퓨터입니다. 사용자가 로컬 관리자 권한이 부여 되는 계정으로을 실행 하는 경우 손상을 완료 하려면 로컬 컴퓨터를 노출 합니다. 해당 계정을 Active Directory에서 가장 권한이 있는 그룹의 구성원도 경우 노출에 손상 전체 포리스트에 쉽게 일반적으로 공격자가 Active Directory 및 Windows 환경을 완전히 제어할 수 있습니다.  

마찬가지로, 일부 환경에서는 찾았습니다.는 동일한 사용자 이름 및 암호는 사용 되는 비 Windows 컴퓨터에서 루트 계정에 대 한 공격자가 Windows 시스템에 UNIX 또는 Linux 시스템에서 손상 확장 하도록 허용 하는 Windows 환경에서 사용 되는 그 반대로 가능 합니다.

#### <a name="logons-to-compromised-workstations-or-member-servers-with-privileged-accounts"></a>손상 된 워크스테이션 또는 권한 있는 계정 사용 하 여 구성원 서버에 로그온  
손상 된 워크스테이션 또는 구성원 서버에 대화형으로 로그온 하려면 높은 권한이 있는 도메인 계정을 사용할 손상 된 컴퓨터 시스템에 로그온 하는 모든 계정에서 자격 증명을 수집 될 수 있습니다.  

#### <a name="unsecured-administrative-workstations"></a>보안 되지 않은 관리 워크스테이션  
많은 조직에서 IT 직원에 게 여러 계정을 사용합니다. 계정이 직원의 워크스테이션에 로그온 사용 되 고 해당 워크스테이션에서 로컬 관리자 권한이 IT 직원이 이기 때문에 종종 없는 합니다. UAC는 경우에 따라 사용자는 적어도 분할 대 한 액세스를 받을 수 있도록 설정 하는 왼쪽에 로그온 할 때 토큰 및 권한이 필요한 경우 높여야 합니다. 이러한 사용자는 유지 관리 작업을 수행할 때 일반적으로 로컬에 설치 된 관리 도구를 사용 하며 선택 하 여 해당 도메인-권한 있는 계정에 대 한 자격 증명을 제공 합니다 **관리자 권한으로 실행** 옵션 또는 메시지가 표시 되 면 자격 증명을 제공 합니다. 이 구성은 적절 한 보일 수 있습니다, 있지만 손상 때문에 환경 표시:  

-   직원의 워크스테이션에 로그온 할 때 사용 하는 "일반" 사용자 계정은 로컬 관리자 권한을, 컴퓨터에 취약 [드라이브 바이 다운로드](https://www.microsoft.com/security/sir/glossary/drive-by-download-sites.aspx) 맬웨어를 설치 하려면 사용자는 터득 하는 공격입니다.  

-   맬웨어는 관리 계정의 컨텍스트에서 설치 된 컴퓨터 수 이제 캡처하는 데 사용할 키 입력, 클립보드의 내용을, 스크린샷 및 메모리 상주형 자격 증명에 있는 강력한 도메인의 자격 증명이 노출 될 수 있습니다, 그리고 계정입니다.  

이 시나리오에서 문제는 두 가지가 있습니다. 먼저 로컬 및 도메인 관리에 대 한 별도 계정이 사용 되는 있지만 컴퓨터 보안 되지 않으며 도난 으로부터 계정을 보호 하지 않습니다. 둘째, 일반 사용자 계정과 관리 계정은 부여 된 과도 한 권한 및 사용 합니다.  

### <a name="browsing-the-internet-with-a-highly-privileged-account"></a>매우 강력한 권한의 계정 사용 하 여 인터넷을 검색  
로컬 컴퓨터를 노출 하는 컴퓨터의 로컬 관리자 그룹의 멤버 또는 Active Directory에서 권한 있는 그룹의 멤버는 다음 찾아서 인터넷 (또는 손상 된 인트라넷) 계정 사용 하 여 컴퓨터에 로그온 하는 사용자 및 디렉터리 손상입니다.  

관리자 권한으로 실행 되는 브라우저를 사용 하 여 악의적으로 만들어진된 웹 사이트 액세스 공격자가 권한 있는 사용자의 컨텍스트에서 로컬 컴퓨터의 악성 코드를 보관할 수 있습니다. 사용자 컴퓨터의 로컬 관리자 권한이 있으면 공격자가 수 속이기 사용자 응용 프로그램 취약점을 활용 하 고 추출 하 여 사용자의 권한을 활용 하 여 로컬로 캐시 하는 전자 메일 첨부 파일을 열거나 악성 코드를 다운로드 합니다. 컴퓨터의 모든 활성 사용자에 대 한 자격 증명입니다. 공격자가 도메인 자격 증명을 추출 하 하는 전체 AD DS 도메인 또는 포리스트를 손상 시키는 데 사용할 사용자의 Enterprise Admins, Domain Admins 또는 Active Directory에서 관리자 그룹의 멤버 자격에 의해 디렉터리에 관리 권한이 있으면 포리스트의 다른 컴퓨터를 손상 하지 않고도 합니다.  

### <a name="configuring-local-privileged-accounts-with-the-same-credentials-across-systems"></a>시스템에 걸쳐 동일한 자격 증명을 사용 하 여 로컬 권한 있는 계정 구성  
많은 또는 모든 컴퓨터 수 있도록 자격 증명 도난 SAM 데이터베이스에서 동일한 자격 증명을 사용 하는 다른 모든 컴퓨터를 손상 시키는 데 사용할 컴퓨터에서 동일한 로컬 관리자 계정 이름 및 암호를 구성 합니다. 최소한 각 도메인에 가입 된 시스템에서 로컬 관리자 계정에 대 한 서로 다른 암호를 사용 해야 있습니다. 로컬 관리자 계정을 고유 하 게 라는 수도 있습니다 이지만 서로 다른 암호를 사용 하 여 각 시스템의 권한이 부여 된 로컬 계정에 대 한 자격 증명을 다른 시스템에서 사용할 수 없음을 확인 하는 데 충분 합니다.  

### <a name="overpopulation-and-overuse-of-privileged-domain-groups"></a>권한 있는 도메인 그룹의 과부하 및 overpopulation  
도메인의 EA, DA, BA 그룹의 멤버 자격을 부여 공격자에 대 한 대상을 만듭니다. 큼 수 이러한 그룹의 구성원을 더 큰 가능성 권한 있는 사용자 수 실수로 자격 증명을 오용 및 자격 증명 도난을에 노출 공격입니다. 모든 워크스테이션 또는 권한 있는 도메인 사용자가 로그온 할 서버는 권한 있는 사용자의 자격 증명 수 수집 되며 AD DS 도메인과 포리스트를 손상 시키는 데 사용 가능한 메커니즘을 제공 합니다.  

### <a name="poorly-secured-domain-controllers"></a>보안 잘못 된 도메인 컨트롤러  
도메인 컨트롤러 구성 도메인의 AD DS 데이터베이스의 복제본을 유지 합니다. 읽기 전용 도메인 컨트롤러의 경우 데이터베이스의 로컬 복제본은 기본적으로 권한 있는 도메인 계정 모두가 디렉터리에서 계정의 하위 집합에 자격 증명을 포함 합니다. 읽기 전용 도메인 컨트롤러에서 각 도메인 컨트롤러에는 Domain Admins 비슷하지만 도메인 컨트롤러 계정 또는 도메인의 Krbtgt 권한 있는 계정은 권한 있는 사용자 뿐만 아니라 자격 증명을 포함 하 여 AD DS 데이터베이스의 전체 복제본이 유지 관리 계정, 도메인 컨트롤러에서 KDC 서비스를 사용 하 여 연결 된 계정입니다. 도메인 컨트롤러 기능에 대 한 필요 하지 않은 추가 응용 프로그램 도메인 컨트롤러에 설치 된 경우 또는 도메인 컨트롤러는 엄격 하지 패치 및 보호 하는 경우 공격자가 손상 될 수 있습니다 하 하거나 패치가 적용 되지 않은 취약성을 통해 직접 악성 소프트웨어를 설치 하려면 다른 공격 벡터를 활용할 수 있습니다.  

## <a name="privilege-elevation-and-propagation"></a>권한 상승 및 전파  
공격 메서드 사용에 관계 없이 Windows 환경 공격을 받은 경우에 항상 Active Directory 대상인, 궁극적으로 액세스를 제어 하기 때문에 관계 없이 공격자 하려면. 하지만 전체 디렉터리를 대상으로 것은 아닙니다. 특정 계정, 서버 및 인프라 구성 요소는 일반적으로 기본 Active Directory에 대 한 공격 대상입니다. 다음은 이러한 계정에 대 한 설명입니다.  

### <a name="permanent-privileged-accounts"></a>영구 권한 있는 계정  
되었으므로 Active Directory의 도입으로를 사용 하 여 높은 권한의 계정 Active Directory 포리스트를 작성 하 고 대리자 권한과 사용 권한이 적은 계정에 대 한 일상적인 관리를 수행 하는 데 필요한 수 있습니다. Active Directory의 Enterprise Admins, Domain Admins 또는 Administrators 그룹의 멤버 자격이 필요한만 일시적으로 자주 및 일상적인 관리에 최소 권한 접근 방식을 구현 하는 환경에서.  

영구 권한 있는 계정에는 권한 있는 그룹에 배치 되어 매일 남아 있는 계정입니다. 도메인의 Domain Admins 그룹에 다섯 개의 계정을 배치 하는 조직, 하루, 일주일 내내 이러한 다섯 개의 계정이 대상된 24 시간 수 있습니다. 그러나 실제 도메인 관리자 권한이 있는 계정을 사용 해야는 일반적으로 짧은 시간 동안 특정 도메인 범위 구성에 대해서만 한 합니다.  

### <a name="vip-accounts"></a>VIP 계정  
Active Directory 위반을 간과 대상이 경우 "매우 중요 한 persons" (또는 Vip)의 계정 조직에서 이 단원의 앞에서 설명한 대로 손상 시키거나 심지어 대상된 시스템을 삭제 하도록 허용 하는 공격자에 게 해당 계정 액세스 권한을 부여할 수 있으므로 권한 있는 계정은 대상입니다.  

### <a name="privilege-attached-active-directory-accounts"></a>Active Directory "권한-연결 계정  
Active Directory 계정을 "권한 연결" 하는 도메인 계정 만들어지지 않은 Active Directory에서 권한의 최상위 수준에 있지만 대신 높은 수준의 많은 서버에 권한 부여 된 그룹의 멤버 및 환경의 워크스테이션입니다. 이러한 계정은 인프라의 여러 섹션에서 실행 중인 응용 프로그램에 대 한 일반적으로 도메인에 가입 된 시스템에서 서비스를 실행 하도록 구성 되는 대부분의 종종 도메인 기반 계정입니다. 갖지만 이러한 계정은 권한이 없거나 Active Directory에서 많은 수의 시스템에 대 한 높은 권한이 부여 된 경우에 사용할 수 손상 시키거나 심지어 손상 같은 효과 달성 하는 인프라의 큰 세그먼트를 삭제 하는 권한 있는 Active Directory 계정입니다.  
